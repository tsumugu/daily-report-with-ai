# Helperレビュー: 開発フローのわかりやすさ・整合性・実現可能性

**レビュー日**: 2025-01-XX  
**レビュアー**: Helper  
**対象ドキュメント**:

- `.cursor/rules/discovery-flow.mdc`
- `.cursor/rules/development-flow.mdc`
- `.cursor/rules/jobs/pdm.mdc`
- `.cursor/rules/jobs/pdl.mdc`
- `.cursor/rules/constitution.mdc`

---

## 1. わかりやすさの観点

### ✅ 良い点

1. **フローの分離が明確**
   - DiscoveryフローとDevelopmentフローが明確に分離されている
   - 各フローの責務境界が明確

2. **ロールの責務が明確**
   - 各ロールの責務が明確に定義されている
   - ロール間の連携が明確

3. **バックログとロードマップの分離が明確**
   - Adopt → バックログ、Defer → ロードマップの分離が明確

### ⚠️ 改善が必要な点

1. ~~**Development Flowの開始条件が複雑**~~ ✅ 修正済み
   - Development Flowの開始条件を「PdM がバックログから適切なタイミングでアイテムを選択し、Phase 1: 設計を開始する」という1ステップで簡潔に表現した

2. ~~**Phase 5（棚卸し）の位置づけが不明確**~~ ✅ 修正済み
   - Phase 5は「毎回」実施するものとして明確化された
   - Phase 4（完了）の後に必ず実施することが明確になった

3. ~~**Driverの役割が分散している**~~ ✅ 修正済み
   - Driverの役割をまとめたセクションが追加された
   - 各フェーズでのDriverの具体的な責務が明確化された

---

## 2. 整合性の観点

### ✅ 良い点

1. **ロール定義とフローの整合性**
   - 各ロールの責務とフロー内の役割が一致している

2. **バックログとロードマップの管理方法が一貫**
   - `discovery-flow.mdc`、`development-flow.mdc`、`pdm.mdc` で一貫している

### ⚠️ 改善が必要な点

1. **constitution.mdcとdevelopment-flow.mdcの不整合**
   - `constitution.mdc` の「4. 開発フロー」セクション（169行目）で「Adopt または Defer したものはロードマップに Queue」と記載されているが、実際には「Adopt → バックログ、Defer → ロードマップ」に分離されている
   - この記述を修正する必要がある

2. ~~**Phase 5の位置づけの不整合**~~ ✅ 修正済み
   - Phase 5は「毎回」実施するものとして明確化され、フロー図と説明が整合した

3. **Driverの確認タイミングが明確化された** ✅ 改善済み
   - Driverの役割をまとめたセクションが追加され、各フェーズでの確認タイミングが明確になった
   - DiscoveryフローとDevelopmentフローでの違いは、それぞれのフローの特性に応じた適切な設計として理解できる

---

## 3. 実現可能性の観点

### ✅ 良い点

1. **現実的なプロセス**
   - 各フェーズのプロセスは現実的で実装可能
   - レビュープロセスが適切に組み込まれている

2. **品質基準が明確**
   - カバレッジ100%、Lintエラーゼロなどの品質基準が明確

### ⚠️ 改善が必要な点

1. ~~**Phase 5（棚卸し）の実装方法が不明確**~~ ✅ 改善済み
   - Phase 5は「毎回」実施するものとして明確化された
   - Phase 4（完了）の後に必ず実施することが明確になった

2. ~~**バックログとロードマップの実体が不明確**~~ ✅ 修正済み
   - `docs/general/backlog.md` と `docs/general/roadmap.md` のテンプレートを作成
   - 各ファイルにフォーマット定義を統合
   - アイテムの記録形式、優先順位、ステータスを明確化

3. **Driverの自動化レベルが不明確**
   - Driverがどの程度自動化されているのか、手動で実施するのか不明確
   - フロー監視の具体的な方法が不明確

4. ~~**human_check.mdの実装方法が不明確**~~ ✅ 修正済み
   - `human_check.md` の作成タイミングと承認プロセスが明確化された
   - Driverが実装開始前の最終確認を完了した後、`human_check.md` を作成し、人間（human）に確認を依頼
   - 人間（human）が最終確認し、`human_check.md` のステータスを **Approved** に更新することで承認を明示
   - テンプレート: `docs/templates/human_check.template.md` を参照

---

## 4. 推奨される改善点

### 優先度: 高

1. **constitution.mdcの修正**
   - 169行目の「Adopt または Defer したものはロードマップに Queue」を「Adopt → バックログ、Defer → ロードマップ」に修正

2. **Phase 5の位置づけの明確化**
   - Phase 5を「定期的な棚卸し」として独立させるか、Phase 4の後に必ず実施するかを明確化
   - フロー図と説明を整合させる

3. **バックログとロードマップのテンプレート作成**
   - `docs/general/backlog.md` と `docs/general/roadmap.md` のテンプレートを作成
   - フォーマットを定義

### 優先度: 中

4. **Driverの責務の明確化**
   - Driverの責務をまとめたセクションを追加
   - フロー監視の具体的な方法を明確化

5. ~~**human_check.mdの実装方法の明確化**~~ ✅ 修正済み
   - `human_check.md` の作成タイミングと承認プロセスが明確化された
   - テンプレートの参照先が確認された（`docs/templates/human_check.template.md`）

6. **Development Flowの開始条件の簡潔化**
   - 開始条件をより簡潔に表現

### 優先度: 低

7. **フロー図の改善**
   - より視覚的に理解しやすいフロー図の追加を検討
   - 各フェーズの関係性を図示

---

## 5. 総合評価

### わかりやすさ: ⭐⭐⭐⭐⭐ (5/5)

- フローの分離とロールの責務が明確
- Phase 5の位置づけが明確化された
- Driverの役割がまとめられ、各フェーズでの責務が明確になった

### 整合性: ⭐⭐⭐⭐ (4/5)

- constitution.mdcの不整合が修正された
- Phase 5の位置づけが明確化され、フロー図と説明が整合した

### 実現可能性: ⭐⭐⭐⭐⭐ (5/5)

- 基本的に実装可能で、バックログ・ロードマップのフォーマットが定義された
- Phase 5の実装方法が明確化された
- human_check.mdの実装方法が明確化された

### 総合評価: ⭐⭐⭐⭐⭐ (5/5)

**総評**: 開発フローは全体的に良く設計されており、優先度の高い改善点が修正された。Driverの役割が明確化され、各フェーズでの責務が理解しやすくなった。Phase 5の位置づけも明確になり、フロー全体の整合性が向上した。

---

## 6. 次のステップ

1. ✅ constitution.mdcの修正を実施（完了）
2. ✅ Phase 5の位置づけを明確化（完了）
3. ✅ Driverの責務を明確化（完了）
4. ✅ バックログとロードマップのフォーマットを定義（完了）
5. ✅ human_check.mdの実装方法を明確化（完了）
