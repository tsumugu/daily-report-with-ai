# UI Design PdMレビュー

**機能名**: 日報と目標の関連付け機能
**レビュー日**: 2025-12-16
**レビュアー**: PdM
**ステータス**: Approved

---

## 1. レビュー観点

### 1.1 PRDの要件が正しく解釈されているか

#### US-1: 日報作成時の目標関連付け

- [x] 日報作成画面に目標選択セクションが追加されている
- [x] 目標選択フィールドで複数の目標を選択できる設計になっている
- [x] 選択された目標がチップ形式で表示される
- [x] 関連付けは任意（必須ではない）として設計されている

**判定**: ✅ PRDの要件を正しく解釈している

#### US-2: 日報編集時の目標関連付けの変更

- [x] 日報編集画面に目標選択セクションが追加されている
- [x] 選択済みの目標に削除ボタンが表示される
- [x] 目標を追加・削除できる設計になっている

**判定**: ✅ PRDの要件を正しく解釈している

#### US-3: 日報一覧での目標表示

- [x] 日報カードに目標チップが表示される
- [x] 最大3つまで表示し、それ以上は「+N」と表示される
- [x] 目標チップをクリックで目標詳細画面に遷移できる

**判定**: ✅ PRDの要件を正しく解釈している

#### US-4: 目標詳細画面での関連日報表示

- [x] 目標詳細画面に関連日報セクションが追加されている
- [x] 関連日報が一覧表示される
- [x] 並び替え機能がある
- [x] 日報をクリックで日報詳細画面に遷移できる

**判定**: ✅ PRDの要件を正しく解釈している

#### US-5: 目標階層構造との整合性

- [x] 目標選択時に階層構造が視覚的に表示される（親目標名をラベルで表示）
- [x] どの階層レベルの目標に関連付けられているか明確に分かる

**判定**: ✅ PRDの要件を正しく解釈している

### 1.2 ユーザーストーリーの流れが実現されているか

#### 日報作成時の目標関連付けフロー

1. 日報作成画面を開く
2. 目標選択フィールドをクリック
3. ドロップダウンメニューで目標を検索・選択
4. 選択した目標がチップ形式で表示される
5. 日報を保存
6. 日報一覧画面に遷移
7. 日報カードに選択した目標がチップ形式で表示される

**判定**: ✅ ユーザーストーリーの流れが実現されている

#### 日報編集時の目標変更フロー

1. 日報詳細画面を開く
2. 編集ボタンをクリック
3. 日報編集画面に遷移
4. 目標チップの削除ボタンをクリックして目標を削除
5. 目標選択フィールドで新しい目標を追加
6. 日報を保存
7. 日報詳細画面に遷移
8. 更新された目標がチップ形式で表示される

**判定**: ✅ ユーザーストーリーの流れが実現されている

### 1.3 エラーハンドリングが適切に設計されているか

- [x] 最大選択数（10個）を超えた場合のエラーメッセージが定義されている
- [x] 目標の取得に失敗した場合のエラーメッセージが定義されている
- [x] 関連日報の取得に失敗した場合のエラーメッセージが定義されている

**判定**: ✅ エラーハンドリングが適切に設計されている

### 1.4 画面遷移が自然か

- [x] 日報作成→保存→日報一覧の遷移が自然
- [x] 日報詳細→編集→保存→日報詳細の遷移が自然
- [x] 目標詳細→関連日報→日報詳細の遷移が自然
- [x] 日報一覧→目標チップクリック→目標詳細の遷移が自然

**判定**: ✅ 画面遷移が自然である

### 1.5 メッセージ仕様が正しく反映されているか

PRDで定義されたメッセージ仕様：

- 成功メッセージ: 「日報を作成しました」「日報を更新しました」
- エラーメッセージ: 「目標の取得に失敗しました。もう一度お試しください。」等
- 空状態メッセージ: 「この目標に関連する日報はまだありません」

**判定**: ✅ メッセージ仕様は UI Design では直接言及されていないが、Toast・AlertBanner コンポーネントで実現可能

---

## 2. 追加コメント

### 2.1 良好な点

1. **既存コンポーネントの活用**: Button、InputField、Card、Select等の既存コンポーネントを最大限活用している
2. **EntitySelectFieldの参考**: BL-01で作成されたEntitySelectFieldを参考に、GoalMultiSelectFieldを設計している
3. **詳細なコンポーネント設計**: 各新規コンポーネントのProps、機能、デザインが詳細に定義されている
4. **アクセシビリティ配慮**: キーボード操作、スクリーンリーダー対応が考慮されている
5. **画面フロー**: ユーザーストーリーに基づく画面フローが明確に定義されている

### 2.2 改善提案

以下の点について、プロトタイプ作成時に確認することを推奨します：

#### 2.2.1 目標選択フィールドの配置

現在の設計では、目標選択フィールドを「日付フィールドの直後、やったことフィールドの前」に配置していますが、以下の点を検討してください：

- **ユーザーの入力順序**: 日報を書く際、ユーザーはまず「やったこと」を入力し、その後に関連する目標を選択する可能性がある
- **提案**: 目標選択フィールドを「やったこと」フィールドの後に配置することも検討する
- **判断**: プロトタイプで両方のパターンを試し、ユーザビリティを確認することを推奨

#### 2.2.2 「+N」の表示方法

日報一覧で、3つ以上の目標がある場合に「+N」と表示する仕様ですが、以下の点を検討してください：

- **ユーザーの理解**: 「+N」をクリックすると、残りの目標が表示されるのか、それとも日報詳細画面に遷移するのか、明確にする必要がある
- **提案**: 「+N」をクリックすると、残りの目標がポップオーバーで表示されるか、または日報詳細画面に遷移する
- **判断**: プロトタイプで両方のパターンを試し、ユーザビリティを確認することを推奨

#### 2.2.3 目標チップのサイズ

目標チップのサイズは `'small' | 'medium'` となっていますが、以下の点を検討してください：

- **使用箇所**: 日報一覧では `'small'`、日報詳細では `'medium'` を使用するのか
- **提案**: 使用箇所ごとのサイズを明確にする
- **判断**: プロトタイプで両方のサイズを試し、視認性とレイアウトのバランスを確認することを推奨

---

## 3. 承認

UI Design は PRD の要件を正しく解釈しており、ユーザーストーリーの流れも実現されています。アクセシビリティやエラーハンドリングも適切に設計されています。

上記の改善提案（2.2.1〜2.2.3）は、プロトタイプ作成時に確認することを推奨しますが、Phase 1の設計としては問題ありません。

**承認日**: 2025-12-16
**承認者**: PdM

**ステータス**: Approved

次のステップ（Helperレビュー、クロスレビュー）に進むことを承認します。

---

_本レビューは、UI Design が PRD の要件を満たしているか確認したものです。_
