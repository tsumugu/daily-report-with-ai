# 週次フォーカス管理機能 クロスレビュー

**実施日**: 2025-12-06  
**参加ロール**: PdM, Eng, Des  
**対象ドキュメント**: PRD, Tech Spec, UI Design

---

## 1. PRD ↔ Tech Spec 整合性チェック

### ✅ 整合している項目

| 項目                         | PRD                             | Tech Spec                       | 状態 |
| :--------------------------- | :------------------------------ | :------------------------------ | :--- |
| 週次フォーカス設定           | 最大5件まで                     | 最大5件制限をバリデーション     | ✅   |
| 週次フォーカス重複禁止       | 同じ項目を複数回追加不可       | バリデーションで実装            | ✅   |
| 週の定義                     | 月曜日を週の開始日とする         | ISO 8601準拠で実装              | ✅   |
| 削除の連動                   | 対象が削除されたら連動削除     | 既存のバックエンドで実装済み    | ✅   |
| API設計                      | GET/POST/DELETE エンドポイント  | 既存APIを利用                   | ✅   |

### ⚠️ 要確認・要調整項目

| 項目                             | PRD                         | Tech Spec                             | 課題                                 | 対応                                          |
| :------------------------------- | :-------------------------- | :------------------------------------ | :----------------------------------- | :-------------------------------------------- |
| フォロー項目一覧での週次フォーカス判定 | PRDに詳細なし               | 週次フォーカス一覧を取得して判定      | パフォーマンスへの影響が不明確       | **Tech Specにパフォーマンス最適化の方針を追加** |
| エラーハンドリング               | エラーメッセージ定義済み     | エラーハンドリング定義済み            | ✅ 整合                               | -                                             |

---

## 2. Tech Spec ↔ UI Design 整合性チェック

### ✅ 整合している項目

| 項目                       | Tech Spec                       | UI Design             | 状態 |
| :------------------------- | :------------------------------ | :-------------------- | :--- |
| フォーカス追加ボタン       | FollowupCardComponentに追加    | フォロー項目カードにボタン配置 | ✅   |
| 週次フォーカス表示         | WeeklyFocusSectionComponent利用 | 既存セクション利用    | ✅   |
| エラーハンドリング         | トースト通知でエラー表示       | トースト通知デザイン  | ✅   |
| 既にフォーカス設定済みの判定 | isInWeeklyFocusプロパティ       | ボタンを非表示/無効化 | ✅   |

### ⚠️ 要確認・要調整項目

| 項目                            | Tech Spec                       | UI Design                                                                | 課題                | 対応                                                        |
| :------------------------------ | :------------------------------ | :----------------------------------------------------------------------- | :------------------ | :---------------------------------------------------------- |
| フォーカス追加ボタンの配置     | フォロー項目カードに追加        | 「フォローアップ」ボタンの下に配置                                       | ✅ 整合             | -                                                           |
| ローディング表示                | 定義なし                        | 定義なし                                                                 | ローディング表示が必要 | **UI Designにローディング表示を追加**                       |
| エラー時のUI                    | トースト通知                    | トースト通知                                                             | ✅ 整合             | -                                                           |

---

## 3. PRD ↔ UI Design 整合性チェック

### ✅ 整合している項目

| 項目               | PRD                    | UI Design                | 状態 |
| :----------------- | :--------------------- | :----------------------- | :--- |
| 週次フォーカス追加 | フォロー項目一覧から追加 | フォロー項目カードにボタン配置 | ✅   |
| 週次フォーカス表示 | ホーム画面に表示       | 既存セクション利用       | ✅   |
| 週次フォーカス削除 | ホーム画面から削除     | 既存カードに削除ボタン   | ✅   |
| 最大5件制限        | 最大5件まで            | エラーメッセージ表示     | ✅   |
| 重複エラー         | 重複追加不可           | エラーメッセージ表示     | ✅   |

### ⚠️ 要確認・要調整項目

| 項目                            | PRD                    | UI Design                                                                | 課題                | 対応                                                        |
| :------------------------------ | :--------------------- | :----------------------------------------------------------------------- | :------------------ | :---------------------------------------------------------- |
| 既にフォーカス設定済みの表示    | PRDに詳細なし          | ボタンを非表示/無効化                                                     | ✅ UI Designで明確化 | -                                                           |
| トースト通知                    | 成功メッセージ定義済み | トースト通知デザイン                                                      | ✅ 整合             | -                                                           |

---

## 4. 全体評価

### ✅ 承認可能な項目

- PRD、Tech Spec、UI Designの整合性は概ね良好
- 既存のAPIを活用する設計で実装コストが低い
- エラーハンドリングが適切に定義されている

### ⚠️ 要改善項目

1. **ローディング表示の追加**
   - UI Designに「フォーカスに追加」ボタンクリック時のローディング表示を追加
   - ボタンを無効化して連続クリックを防止

2. **パフォーマンス最適化の方針**
   - Tech Specに週次フォーカス一覧取得の最適化方針を追加
   - フォロー項目一覧表示時に並列リクエストで取得

---

## 5. 承認

| ロール | 承認 | コメント |
| :----- | :--- | :------- |
| PdM    | ✅   | PRD要件を満たしている。要改善項目を反映後、承認可能。 |
| Eng    | ✅   | 既存APIを活用する設計で実装コストが低い。要改善項目を反映後、承認可能。 |
| Des    | ✅   | UI設計は既存コンポーネントを活用しており、一貫性がある。要改善項目を反映後、承認可能。 |

---

## 6. 次のアクション

1. UI Designにローディング表示を追加
2. Tech Specにパフォーマンス最適化の方針を追加
3. 要改善項目を反映後、各ドキュメントを Approved ステータスに更新

---

_本クロスレビューは Draft ステータスです。要改善項目を反映後、承認予定です。_

