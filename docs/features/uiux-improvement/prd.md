# UIUX改善 PRD

**バージョン**: v1  
**作成日**: 2025-01-XX  
**作成者**: PdM  
**ステータス**: Approved  
**承認日**: 2025-01-XX  
**承認者**: PdM（セルフレビュー完了）

---

## 1. 概要（Why）

### 背景

現在のDaily Reportサービスは、機能面では基本的な要件を満たしているが、UIUXの観点で以下の課題がある：

- Emojiの多用により、プロフェッショナルな印象に欠ける
- 画面間でスペーシングが不統一で、がたつきが発生している
- ブランドアイデンティティが確立されていない
- マイクロインタラクションが不足し、操作性が改善の余地がある

これらの課題を解決し、プロフェッショナルで一貫性のあるデザインシステムを確立することで、ユーザーの信頼感・満足度を向上させ、ブランド価値を高める。

### 目的

- **UI品質の向上**: プロフェッショナルで一貫性のあるデザインシステムの確立
- **ブランドイメージの確立**: サービス名とファビコンの統一によるブランド認知向上
- **ユーザー体験の改善**: マイクロインタラクションの向上による操作性の向上

### Phase分け

| 機能                       | Phase 1 | Phase 2 | Phase 3 |
| :------------------------- | :------ | :------ | :------ |
| グリッドレイアウトシステム | ✅      | -       | -       |
| アイコンライブラリ導入     | ✅      | -       | -       |
| Primary Colorプロトタイプ  | ✅      | -       | -       |
| Primary Color選定・適用    | -       | ✅      | -       |
| EmojiからIconへの置き換え  | -       | ✅      | -       |
| ブランドイメージ反映       | -       | ✅      | -       |
| マイクロインタラクション   | -       | -       | ✅      |

---

## 2. ユーザーストーリー

### US-1: 一貫性のあるデザインで信頼感を得たい

```
As a ユーザー
I want to プロフェッショナルで一貫性のあるUIを見たい
So that サービスの信頼性を感じ、安心して利用できる
```

### US-2: 直感的に操作できるUIを使いたい

```
As a ユーザー
I want to アイコンで視覚的に理解できるUIを使いたい
So that 操作が直感的で、迷わずに機能を利用できる
```

### US-3: スムーズな操作感を体験したい

```
As a ユーザー
I want to ボタンクリックや画面遷移時に適切なフィードバックを受けたい
So that 操作が成功したことを確認でき、快適に利用できる
```

### US-4: ブランドを視覚的に認識したい

```
As a ユーザー
I want to サービス名やファビコンでブランドを認識したい
So that サービスのアイデンティティを理解し、記憶に残る
```

---

## 3. 機能要件

### 3.1 Phase 1: 基盤整備

#### 3.1.1 グリッドレイアウトシステムの導入

**要件**:

- 12カラムグリッドシステムを採用
- CSS Gridを活用した統一レイアウト
- レスポンシブ対応（モバイル/PC）
- がたつきを防止する仕組みの確立

**詳細**:

- グリッドコンテナの定義（`_grid.scss`）
- 12カラムグリッドシステム
- モバイル時は1カラムに自動調整
- 画面間での一貫性確保

#### 3.1.2 アイコンライブラリ（Lucide Icons）の導入

**要件**:

- `lucide-angular`パッケージのインストール
- Iconコンポーネントの作成（統一的な使用方法）
- Storybookへの登録

**詳細**:

- Angular専用パッケージの使用
- 型定義完備
- Tree-shaking対応で軽量

#### 3.1.3 スペーシングトークンの統一

**要件**:

- 8px基準のスペーシングシステムを確立
- スペーシングトークンの定義（`_spacing.scss`）
- 画面間での統一感を向上

**詳細**:

- 4px, 8px, 12px, 16px, 24px, 32px, 48px, 64pxのトークン定義
- CSS変数として定義
- 全画面での統一使用

#### 3.1.4 Primary Colorのプロトタイプ作成

**要件**:

- 3つのカラーオプションをStorybookプロトタイプで実装
- 主要画面での比較検討が可能な状態

**カラーオプション**:

- **オプションA**: `#10b981` (Emerald Green) - 成長・前向き
- **オプションB**: `#3b82f6` (Blue) - 信頼・安定
- **オプションC**: `#f59e0b` (Amber) - エネルギー・活力

**詳細**:

- 各カラーをStorybookストーリーとして作成
- 主要画面（ホーム、日報一覧、日報入力）で比較可能
- humanレビューで最終判断

---

### 3.2 Phase 2: ビジュアル改善

#### 3.2.1 Primary Colorの選定・適用

**要件**:

- プロトタイプ比較・humanレビューによる選定
- カラートークンの更新（`_colors.scss`）
- 全コンポーネントへの自動適用

**詳細**:

- CSS変数使用のため、影響範囲は限定的
- 全画面・全コンポーネントに自動適用
- Storybookでの確認

#### 3.2.2 EmojiからIconへの置き換え

**要件**:

- 全22箇所のEmojiをLucide Iconsに置き換え
- 統一的なアイコン使用

**置き換えマッピング**:

| 現在のEmoji | 用途             | 提案Icon        | 理由                 |
| :---------- | :--------------- | :-------------- | :------------------- |
| 📝          | ロゴ・日報       | `FileText`      | 文書・記録を表現     |
| 📋          | 日報入力         | `Clipboard`     | クリップボード・入力 |
| 📊          | 日報一覧         | `BarChart3`     | データ・分析         |
| 🎯          | フォーカス・目標 | `Target`        | 目標・集中           |
| ✨          | よかったこと     | `Sparkles`      | 良いこと・輝き       |
| 💡          | 学び             | `Lightbulb`     | アイデア・学び       |
| 📅          | 日付             | `Calendar`      | カレンダー           |
| ⚠️          | 警告             | `AlertTriangle` | 警告・注意           |

**影響範囲**:

- 全画面（ホーム、日報入力、日報一覧、詳細、フォローアップ）
- 全コンポーネント（カード、バッジ、ボタンなど）

#### 3.2.3 ブランドイメージの作成・反映

**要件**:

- サービス名のロゴタイプ作成
- Faviconの作成（複数サイズ）
- 全画面への反映

**ロゴデザイン**:

- シンプルで読みやすいタイポグラフィ
- Primary Colorを活用
- アイコン（FileTextまたはTarget）との組み合わせ

**Favicon**:

- 16x16, 32x32, 48x48, 192x192, 512x512のサイズを用意
- Primary Colorを基調
- 日報を表現するアイコン

**実装内容**:

- `index.html`への反映
- PWA対応（manifest.json）

---

### 3.3 Phase 3: インタラクション向上

#### 3.3.1 ボタンインタラクション

**要件**:

- クリック時のリップル効果
- ホバー時のスケールアニメーション（scale: 1.02）
- ローディング状態のスピナー改善

**詳細**:

- CSS Transform/Opacityを使用（GPU加速）
- アニメーション時間: 200-300ms

#### 3.3.2 フォームインタラクション

**要件**:

- 入力時の即座のバリデーションフィードバック
- フォーカス時のアニメーション
- エラー表示のスライドイン

**詳細**:

- リアルタイムバリデーション
- エラーメッセージのスムーズな表示
- フォーカスリングの視覚的フィードバック

#### 3.3.3 画面遷移

**要件**:

- ページ遷移時のフェードイン（200-300ms）
- モーダル開閉時のスケールアニメーション
- リストアイテムの表示アニメーション（stagger）

**詳細**:

- Angular Animationsの活用
- トランジション効果の統一
- パフォーマンス最適化

#### 3.3.4 ローディング状態

**要件**:

- スケルトンローダーの導入
- プログレスインジケーターの改善

**詳細**:

- コンテンツの形状を模したスケルトン
- ローディング中の視覚的フィードバック

---

## 4. 非機能要件

### 4.1 パフォーマンス

- アニメーションはGPU加速を使用（Transform/Opacity）
- アニメーション時間は200-300msを推奨
- Tree-shaking対応でバンドルサイズを最小化

### 4.2 アクセシビリティ

- アイコンには`aria-label`を付与
- キーボード操作対応
- コントラスト比の確保（WCAG 2.1 AA準拠）

### 4.3 互換性

- 主要ブラウザ対応（Chrome, Firefox, Safari, Edge）
- モバイル/PC対応
- レスポンシブデザイン

### 4.4 保守性

- CSS変数を使用した一元管理
- グリッドシステムによる一貫性確保
- Storybookでの確認・テスト

---

## 5. エッジケースの洗い出し

### 5.1 カラー変更時の影響

- 既存のカスタムスタイルへの影響
- ブラウザキャッシュのクリアが必要な場合

### 5.2 アイコン置き換え時の影響

- 既存のEmoji使用箇所の漏れ
- アイコンサイズの不統一

### 5.3 グリッドレイアウトの影響

- 既存レイアウトの崩れ
- モバイル表示の確認

### 5.4 アニメーションのパフォーマンス

- 低スペック端末での動作確認
- アニメーション無効化時の対応

---

## 6. メッセージ仕様

### 6.1 エラーメッセージ

- カラー変更時のエラー: "カラーの適用に失敗しました"
- アイコン読み込みエラー: "アイコンの読み込みに失敗しました"

### 6.2 成功メッセージ

- カラー変更成功: （視覚的な変更のみ、メッセージ不要）

---

## 7. 画面遷移図

```
Phase 1: 基盤整備
├── グリッドシステム導入
├── アイコンライブラリ導入
├── スペーシング統一
└── Primary Colorプロト作成

Phase 2: ビジュアル改善
├── Primary Color選定（humanレビュー）
├── Primary Color適用
├── Emoji置き換え
└── ブランドイメージ反映

Phase 3: インタラクション向上
├── ボタンインタラクション
├── フォームインタラクション
├── 画面遷移
└── ローディング状態
```

---

## 8. ビジネスルール

- デザインシステムは一貫性を保つ
- 既存機能への影響を最小限に抑える
- 段階的実装により、リスクを分散

---

## 9. 成功基準

### 9.1 Phase 1

- [ ] グリッドレイアウトシステムが全画面に適用されている
- [ ] Lucide Iconsが導入され、Storybookに登録されている
- [ ] スペーシングトークンが統一されている
- [ ] Primary Colorの3オプションがプロトタイプで実装されている

### 9.2 Phase 2

- [ ] Primary Colorが選定され、全画面に適用されている
- [ ] 全22箇所のEmojiがIconに置き換えられている
- [ ] ロゴ・Faviconが作成され、全画面に反映されている

### 9.3 Phase 3

- [ ] ボタンインタラクションが実装されている
- [ ] フォームインタラクションが実装されている
- [ ] 画面遷移のアニメーションが実装されている
- [ ] ローディング状態が改善されている

---

## 10. 受入基準（AC）

### AC-1: グリッドレイアウトシステム

- Given: 全画面が表示されている
- When: 画面サイズを変更する
- Then: グリッドシステムに基づいて適切にレイアウトが調整される

### AC-2: アイコン表示

- Given: アイコンが表示されている
- When: 画面を確認する
- Then: Emojiではなく、統一されたアイコンが表示される

### AC-3: Primary Color適用

- Given: Primary Colorが選定されている
- When: 全画面を確認する
- Then: 選定されたPrimary Colorが一貫して適用されている

### AC-4: マイクロインタラクション

- Given: ボタンやフォームが表示されている
- When: 操作する
- Then: 適切なフィードバック（アニメーション）が表示される

---

## 11. 他ロールへの依頼

### To Des

- `ui_design.md` で以下を定義してください：
  - グリッドレイアウトシステムの詳細設計
  - アイコン使用ガイドライン
  - Primary Colorの各オプションの詳細
  - マイクロインタラクションの詳細仕様
  - ブランドイメージ（ロゴ・Favicon）のデザイン

### To Eng

- フロントエンドのみの変更のため、tech_spec.mdの作成は不要です
- 実装時の技術的な質問があれば対応してください

---

## 12. 関連ドキュメント

| ドキュメント                                     | 説明                                          |
| :----------------------------------------------- | :-------------------------------------------- |
| `docs/features/uiux-improvement/proposal.md`     | UIUX改善提案書                                |
| `docs/features/uiux-improvement/des_research.md` | デザインリサーチ                              |
| `docs/general/roadmap.md`                        | Phase 2.5 の位置付け                          |
| `.cursor/rules/design_system_rules.mdc`          | デザインシステムルール（実体はStorybook参照） |

---

## 13. Phase分け

### Phase 1: 基盤整備（優先度: 高）

- ✅ グリッドレイアウトシステムの導入
- ✅ アイコンライブラリ（Lucide Icons）の導入
- ✅ スペーシングトークンの統一
- ✅ Primary Colorのプロトタイプ作成（3オプション）

**工数**: 2日

### Phase 2: ビジュアル改善（優先度: 高）

- ✅ Primary Colorの選定（プロトタイプ比較・humanレビュー）
- ✅ Primary Colorの適用
- ✅ EmojiからIconへの置き換え（22箇所）
- ✅ ブランドイメージの反映（ロゴ・Favicon）

**工数**: 3.5日

### Phase 3: インタラクション向上（優先度: 中）

- ✅ ボタンインタラクションの追加
- ✅ フォームインタラクションの追加
- ✅ 画面遷移アニメーションの追加
- ✅ ローディング状態の改善

**工数**: 3日

**合計**: 8.5日（3-4週間）

---

## 14. 実装スケジュール

| フェーズ | 工数      | 期間        | ステータス |
| :------- | :-------- | :---------- | :--------- |
| Phase 1  | 2日       | 1週間       | 未着手     |
| Phase 2  | 3.5日     | 1-2週間     | 未着手     |
| Phase 3  | 3日       | 1-2週間     | 未着手     |
| **合計** | **8.5日** | **3-4週間** | -          |

---

## 15. リスク管理

### リスク1: 既存機能への影響

- **対策**: 段階的実装、各フェーズでのテスト実施
- **影響度**: 中
- **発生確率**: 中

### リスク2: パフォーマンスへの影響

- **対策**: アニメーションの最適化、必要に応じて`will-change`の使用
- **影響度**: 低
- **発生確率**: 低

### リスク3: ブランドイメージの不一致

- **対策**: PdMとの合意形成、プロトタイプでの確認
- **影響度**: 中
- **発生確率**: 低

---

## 16. 期待される効果

### 定量的効果

- **ユーザー満足度**: +20%向上（想定）
- **ブランド認知度**: ファビコン・ロゴによる視覚的認知向上
- **プロフェッショナルな印象**: デザイン品質の向上による信頼感向上

### 定性的効果

- **一貫性**: 統一されたデザインシステムによる一貫性の向上
- **使いやすさ**: マイクロインタラクションによる操作性の向上
- **ブランド価値**: ブランドアイデンティティの確立

---

_本PRDは Draft ステータスです。Des とのクロスレビュー後に承認予定です。_
