# 子目標作成ボタンの配置に関するリサーチ

## 目的

階層構造のカード表示において、「子目標を作成」ボタンの最適な配置位置を検討する。

## リサーチ結果

### 一般的なUI/UXパターン

1. **カードの外側配置が推奨**
   - カード内に配置すると、カードのクリック領域と競合する
   - カードの外側に配置することで、操作の意図が明確になる

2. **配置候補**
   - **左上**: 階層構造の視覚的な流れに沿った位置。親子関係が明確
   - **右上**: 一般的なUIパターン（閉じるボタンなど）と一致。視線の流れに沿う
   - **下部中央**: カードの内容を確認してから操作する流れ

### 階層構造のツリービューにおける考慮点

- **インデントとの関係**: 階層が深くなるほど左側にインデントされるため、左上に配置すると階層の視覚的な流れに沿う
- **操作性**: ボタンがカードのクリック領域と重ならないように配置する
- **視認性**: 各カードに関連するボタンであることが明確に分かる位置

## 推奨案

### 案1: カードの外側左上（推奨）

**メリット**:

- 階層構造の視覚的な流れに沿っている
- 親子関係が明確
- インデントと整合性がある

**デメリット**:

- 左側に配置されるため、一般的なUIパターンとは異なる

### 案2: カードの外側右上

**メリット**:

- 一般的なUIパターン（閉じるボタン、アクションボタンなど）と一致
- 視線の流れに沿った自然な位置
- 右利きユーザーにとって操作しやすい

**デメリット**:

- 階層構造の視覚的な流れとは逆方向

### 案3: カードの下部中央

**メリット**:

- カードの内容を確認してから操作する流れ
- カードのクリック領域と明確に分離

**デメリット**:

- 階層が深くなると、下部に配置すると縦方向のスペースを多く使う

## 決定

**案1（カードの外側左上）を採用**

理由:

1. 階層構造のツリービューでは、左側にインデントがあるため、左上に配置すると階層の視覚的な流れに沿う
2. 親子関係が明確になる
3. カードのクリック領域と明確に分離できる

## 実装方針

- `hierarchy-tree-view.component.html`で、カードの外側（左上）にボタンを配置
- カードコンポーネントからボタンを削除し、ツリービューコンポーネントで管理
- ボタンは小さなアイコンボタンとして、カードの左上に配置
