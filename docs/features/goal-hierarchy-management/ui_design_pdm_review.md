# 目標階層管理機能 UI Design PdMレビュー

**バージョン**: v1  
**作成日**: 2025-12-13  
**作成者**: PdM  
**ステータス**: Approved  
**レビュー対象**: `ui_design.md`

---

## 1. レビュー概要

`ui_design.md` をレビューし、`prd.md` の要件が正しく実現されているか、要件充足度は十分か、ユーザーストーリーが実現されているかを確認する。

---

## 2. PRD ↔ UI Design 整合性チェック

### ✅ 整合している項目

| 項目                       | PRD                                                      | UI Design                                    | 状態 |
| :------------------------- | :------------------------------------------------------- | :------------------------------------------- | :--- |
| 目標の階層構造定義・管理   | 目標を階層的に定義・管理できる                           | 目標一覧、目標作成・編集画面で実現           | ✅   |
| 目標間の関係性可視化       | 階層構造をツリー形式で表示                               | 目標階層表示画面でGoalTreeViewを使用         | ✅   |
| 週次フォーカスとの接続     | 短期目標から週次フォーカスを設定可能                     | 目標詳細画面で「週次フォーカスを設定」ボタン | ✅   |
| 目標の作成・編集・削除     | 目標の作成・編集・削除が可能                             | 目標作成・編集・詳細画面で実現               | ✅   |
| 目標の階層的ブレイクダウン | 長期目標から中期目標、短期目標へと階層的にブレイクダウン | 目標詳細画面で「下位目標を作成」ボタン       | ✅   |
| 目標の期間設定             | 柔軟な期間設定（半期、四半期、1ヶ月等）                  | 開始日・終了日入力で実現                     | ✅   |
| 目標の性質設定             | スキル習得/プロジェクト完了/習慣形成/その他から選択      | 目標の性質選択ドロップダウンで実現           | ✅   |

---

## 3. ユーザーストーリーの実現確認

### 3.1 US-1: 長期目標の作成

**PRD要件**: 長期目標（半期スパン等）を作成したい

**UI Design実装**: ✅ 適切

- 目標作成画面で目標を作成可能
- 目標名、期間、説明等を入力可能
- 上位目標を「なし」に設定することで長期目標を作成可能

**確認結果**: ✅ 要件を満たしている

### 3.2 US-2: 目標の階層的ブレイクダウン

**PRD要件**: 長期目標から中期目標、短期目標へと階層的にブレイクダウンしたい

**UI Design実装**: ✅ 適切

- 目標詳細画面で「下位目標を作成」ボタンから下位目標を作成可能
- 上位目標のIDが自動的に設定される（parentId）
- 階層構造が視覚的に理解できる

**確認結果**: ✅ 要件を満たしている

### 3.3 US-3: 目標間の関係性の確認

**PRD要件**: 目標間の関係性（因果関係、依存関係）を確認したい

**UI Design実装**: ✅ 適切

- 目標階層表示画面でGoalTreeViewを使用して階層構造を表示
- 展開・折りたたみ機能で階層を確認可能
- 目標をクリックで目標詳細に遷移

**確認結果**: ✅ 要件を満たしている

### 3.4 US-4: 目標の階層構造の一覧表示

**PRD要件**: 目標の階層構造を一覧で確認したい

**UI Design実装**: ✅ 適切

- 目標一覧画面で目標カード一覧を表示
- 目標階層表示画面で階層構造をツリー形式で表示
- 両方の画面で階層構造を確認可能

**確認結果**: ✅ 要件を満たしている

### 3.5 US-5: 週次フォーカスと短期目標の接続

**PRD要件**: 週次フォーカスと短期目標を接続したい

**UI Design実装**: ✅ 適切

- 目標詳細画面（短期目標の場合）で「週次フォーカスを設定」ボタンを表示
- 既存の週次フォーカス一覧から選択して接続可能
- 週次フォーカスカードに短期目標名をバッジで表示

**確認結果**: ✅ 要件を満たしている

### 3.6 US-6: 目標の編集・削除

**PRD要件**: 作成した目標を編集・削除したい

**UI Design実装**: ✅ 適切

- 目標詳細画面で「編集」ボタンから目標を編集可能
- 目標詳細画面で「削除」ボタンから目標を削除可能
- 削除時は確認ダイアログを表示

**確認結果**: ✅ 要件を満たしている

---

## 4. 画面遷移の確認

### ✅ 画面遷移の整合性

| 操作                             | PRD（遷移先）      | UI Design（遷移先）              | 状態 |
| :------------------------------- | :----------------- | :------------------------------- | :--- |
| ホームで「目標管理」ボタン押下   | 目標一覧           | 目標一覧                         | ✅   |
| 目標一覧で「目標を作成」押下     | 目標作成画面       | 目標作成画面                     | ✅   |
| 目標一覧で目標をクリック         | 目標詳細           | 目標詳細                         | ✅   |
| 目標詳細で「編集」押下           | 目標編集画面       | 目標編集画面                     | ✅   |
| 目標詳細で「下位目標を作成」押下 | 下位目標作成画面   | 下位目標作成画面（目標作成画面） | ✅   |
| 目標詳細で「削除」押下           | 削除確認ダイアログ | 削除確認ダイアログ               | ✅   |
| 目標一覧で「階層表示」押下       | 目標階層表示画面   | 目標階層表示画面                 | ✅   |

**確認結果**: ✅ すべての画面遷移がPRDと整合している

---

## 5. 機能要件の確認

### 5.1 目標の作成・編集・削除

**PRD要件**: 目標の作成・編集・削除が可能

**UI Design実装**: ✅ 適切

- 目標作成画面で目標を作成可能
- 目標編集画面で目標を編集可能
- 目標詳細画面で目標を削除可能
- すべての必須項目が適切に定義されている

**確認結果**: ✅ 要件を満たしている

### 5.2 目標の階層構造の可視化

**PRD要件**: 階層構造をツリー形式で表示

**UI Design実装**: ✅ 適切

- 目標階層表示画面でGoalTreeViewを使用
- 展開・折りたたみ機能
- インデントで階層の深さを表現

**確認結果**: ✅ 要件を満たしている

### 5.3 週次フォーカスとの接続

**PRD要件**: 短期目標から週次フォーカスを設定可能

**UI Design実装**: ✅ 適切

- 目標詳細画面（短期目標の場合）で「週次フォーカスを設定」ボタンを表示
- 既存の週次フォーカス一覧から選択して接続
- 週次フォーカスカードに短期目標名をバッジで表示

**確認結果**: ✅ 要件を満たしている

---

## 6. エッジケースの確認

### 6.1 エラー発生時のフロー

**PRD要件**: ネットワークエラー、認証切れ、サーバーエラー、バリデーションエラーの処理

**UI Design実装**: ✅ 適切

- バリデーションエラーは該当フィールドの下に表示
- ネットワークエラーはリトライボタン付きエラーメッセージを表示
- サーバーエラーは適切なメッセージを表示
- AlertBannerコンポーネントを使用

**確認結果**: ✅ 要件を満たしている

### 6.2 例外的な操作フロー

**PRD要件**: 循環参照の防止、期間の整合性、目標の削除時の確認

**UI Design実装**: ✅ 適切

- バリデーションエラーで循環参照を防止
- バリデーションエラーで期間の整合性を確認
- 削除時は確認ダイアログを表示

**確認結果**: ✅ 要件を満たしている

---

## 7. メッセージ仕様の確認

### ✅ メッセージ仕様の整合性

| メッセージ種別           | PRD                                       | UI Design                                      | 状態 |
| :----------------------- | :---------------------------------------- | :--------------------------------------------- | :--- |
| エラーメッセージ         | "目標名を入力してください"等              | バリデーションエラーを該当フィールドの下に表示 | ✅   |
| 成功メッセージ           | "目標を作成しました"等                    | トースト通知で表示                             | ✅   |
| バリデーションメッセージ | "目標名は100文字以内で入力してください"等 | 該当フィールドの下に表示                       | ✅   |

**確認結果**: ✅ メッセージ仕様がPRDと整合している

---

## 8. 既存コンポーネントの活用

### ✅ 既存コンポーネントの活用

- Button、InputField、TextareaField、DateField、Card、AlertBanner、Toast等の既存コンポーネントを適切に活用
- 新規コンポーネント（GoalCard、GoalTreeView、GoalSelectField）が必要な項目が明確
- 既存コンポーネントの拡張（WeeklyFocusCard）が適切

**確認結果**: ✅ 既存コンポーネントの活用が適切

---

## 9. UX品質の確認

### 9.1 画面構成

- すべての画面が適切に定義されている
- 画面遷移が明確
- ユーザーフローが自然

### 9.2 レイアウト

- モバイルファースト設計
- レスポンシブ対応
- 既存のグリッドシステムを活用

### 9.3 インタラクション

- ユーザー操作が明確
- エラーハンドリングが適切
- フィードバック（トースト通知等）が適切

### 9.4 アクセシビリティ

- キーボード操作対応
- スクリーンリーダー対応
- フォーカス状態の視覚化

**確認結果**: ✅ UX品質は十分

---

## 10. 総合評価

### ✅ 承認

UI DesignはPRDの要件を正しく実現しており、要件充足度は十分です。ユーザーストーリーもすべて実現されています。

**良好な点**:

- PRDの要件がすべてUI Designに反映されている
- 既存コンポーネントを適切に活用している
- 新規コンポーネントが必要な項目が明確
- エッジケースやエラーハンドリングが適切に考慮されている
- UX品質が十分
- アクセシビリティが適切に考慮されている

**改善提案**: なし

**承認者**: PdM  
**承認日**: 2025-12-13

---

## 11. 次のステップ

1. **Helperレビュー**
   - HelperがUI Designを横断的にレビュー

2. **クロスレビュー（Eng連携）**
   - Tech SpecとUI Designを照らし合わせ、データ・APIの整合性を確認

3. **プロトタイプ作成**
   - UI Designを元にHTML/CSS/JavaScriptでプロトタイプを作成

4. **実装開始**
   - すべての設計ドキュメントがApprovedステータスになったら、実装を開始

---

_本PdMレビューは完了しました。UI Designは承認されました。_
