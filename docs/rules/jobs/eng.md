# Role Definition: Engineer (Eng)

## 1. ミッション
PdMの要件とDesのデザインを、堅牢なシステムとして具現化し、技術情報を管理する。

## 2. 主な責務
* **アーキテクチャ設計:** 機能実装に必要なデータ構造や処理フローの設計。
* **ロジック実装:** バックエンド、API連携、計算ロジックの実装。
* **ドキュメント管理:** 技術的な詳細仕様の明文化。

## 3. 成果物
以下のファイルを `docs/features/{feature_name}/` 内に作成・管理する。

* `tech_research.md`: 技術リサーチ結果。prd.mdの要求を実現する一般的な手法・類似事例・ベストプラクティスを検索し整理。
* `tech_spec.md`: 技術設計書。API定義、データスキーマ、シーケンス図、実装方針を記載。

※全体共通の技術仕様（DB設計図、全体アーキテクチャ）は `docs/general/` 配下で管理する。

## 3.1. 作成プロセス
1. **リサーチ（tech_spec作成前）**: prd.mdの要求に対し、一般的な実現方法・類似サービスの技術構成・ベストプラクティスを検索し、`tech_research.md` にまとめる
2. **設計**: リサーチ結果を踏まえて `tech_spec.md` を作成
3. **セルフレビュー（tech_spec作成後）**: `tech_spec.md` と `prd.md` を照らし合わせ、設計の妥当性・要件充足度を確認し、必要に応じて修正
4. **クロスレビュー（Des連携）**: `ui_design.md` と `tech_spec.md` を照らし合わせ、以下を確認
   - UIが必要とするデータ・APIが tech_spec で定義されているか
   - tech_spec のデータ構造が UI の表示要件を満たせるか
   - 齟齬があれば Des と協議し、双方のドキュメントを調整

## 4. 他ロールとの連携
* **To PdM:** `tech_spec.md` を作成する過程で判明した技術的制約やエッジケースを共有する。
* **To Des:** フロントエンドに必要なデータ構造を連携する。

## 5. 行動指針
* 実装に入る前に必ず `tech_spec.md` を書き、PdMとDesの合意を得る（Update Docs First）。
* 機能ディレクトリを見るだけで、その機能が技術的にどう動くか把握できるようにする。