# Requirements

このファイルは、PdM が判断可能な粒度の要求を定義します。

## 要求の形式

各要求は以下の形式で記述されます：

```markdown
## R-01: [要求のタイトル]

**対応する問題**: P-01

**要求の説明**: [実装方法やUI詳細には踏み込まず、「何を実現すべきか」を記述]

**受け入れ基準**:

- [ ] 基準1
- [ ] 基準2

**備考**: [補足情報]
```

## 原則

- 各要求は対応する問題（P-xx）を明記する
- 実装方法・UI詳細には踏み込まない
- 要求はすべて特定の問題に紐づいている

---

## R-01: 目標別取り組み集約表示機能

**対応する問題**: P-01（目標達成のための取り組みを集約して振り返れない）

**要求の説明**:

目標を選択すると、その目標に関連付けられた日報、フォローアップ、週次フォーカスを集約して一覧表示する機能。期間を指定して特定期間の取り組みを確認でき、取り組みの種類でフィルタリングできる。振り返りに必要な情報を一箇所に集約し、すぐにアクセスできるようにする。

**受け入れ基準**:

- [ ] 目標を選択すると、その目標に関連する取り組み（日報、フォローアップ、週次フォーカス）が一覧表示される
- [ ] 期間を指定して、特定期間の取り組みを表示できる（例: 半期、四半期、カスタム期間）
- [ ] 取り組みの種類（日報、フォローアップ、週次フォーカス）でフィルタリングできる
- [ ] 各取り組みの詳細（日付、内容、ステータスなど）が表示される
- [ ] 取り組みをクリックすると、詳細画面に遷移できる
- [ ] 取り組みの総数や概要（サマリー）が表示される

**備考**:

- この機能は、BL-03（日報と目標の関連付け機能）とBL-04（フォローアップと目標の接続機能）が実装されていることを前提とする
- 週次フォーカスと目標の関連付けについては、BL-01（目標階層管理機能）で「既存の週次フォーカス機能との接続」が含まれているため、それを前提とする
- 期間指定は柔軟に設定できるようにする（半期、四半期、月次、カスタム期間など）
- 表示順序は時系列（新しい順/古い順）やデータ種別で並び替えられるようにする
- 目標が階層構造を持つ場合、どのレベルの目標に関連付けられた取り組みを表示するかを明確にする（例: 選択した目標のみ、子目標を含む、親目標を含むなど）

---

## R-02: アクティビティタイムライン機能

**対応する問題**: P-02（活動全体を時系列で俯瞰できない）

**要求の説明**:

目標、日報、フォローアップ、週次フォーカスを時系列で統合表示する機能。「いつ、何のために（どの目標のために）、何をしたか」が一目で分かるタイムライン形式で表示する。期間を指定して特定期間のタイムラインを表示でき、データ種別や目標でフィルタリングできる。活動の流れや変化を視覚的に把握できるようにする。

**受け入れ基準**:

- [ ] 目標、日報、フォローアップ、週次フォーカスを時系列で統合表示できる
- [ ] 期間を指定して、特定期間のタイムラインを表示できる
- [ ] データ種別（目標、日報、フォローアップ、週次フォーカス）でフィルタリングできる
- [ ] 目標でフィルタリングでき、特定の目標に関連する活動のみを表示できる
- [ ] タイムラインをグルーピング表示できる（日単位、週単位、月単位など）
- [ ] 各アクティビティの概要（日付、種別、タイトル、関連目標など）が表示される
- [ ] アクティビティをクリックすると、詳細画面に遷移できる

**備考**:

- この機能も、BL-03、BL-04、および目標階層管理機能（BL-01）が実装されていることを前提とする
- タイムラインの表示形式は、ユーザーの使いやすさを考慮する（例: カレンダー形式、リスト形式、カード形式など）
- データ量が多い場合のパフォーマンスを考慮する（ページネーション、遅延ロード、仮想スクロールなど）
- タイムラインの表示項目は、ユーザーがカスタマイズできることが望ましい（任意）
- グルーピング機能により、データ量が多い場合でも全体像を把握しやすくする
- 目標が階層構造を持つ場合、どのレベルの目標に関連付けられた活動を表示するかを明確にする

---

## Status

**作成日**: 2025-12-15
**最終更新日**: 2025-12-16
**ステータス**: Approved（Human との合意完了）

**参照元**: `.discovery/problem_statements.md`, `.discovery/value_hypotheses.md`

**備考**:

- これらの要求は、既存のバックログ（BL-01, BL-03, BL-04）が実装されることを前提としています
- 実装の優先順位は、PdM が判断します
