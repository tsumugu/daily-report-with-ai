import{a as q}from"./chunk-NAOTXHQH.js";import{a as B}from"./chunk-4JFTRTP5.js";import{l as X,o as G,q as P,r as J,w as K,y as Z}from"./chunk-YHDQOJME.js";import{e as S,p as H,s as D,t as Q,w as Y}from"./chunk-HCRNHK5J.js";import{$ as v,A as W,Aa as j,Ba as n,Ka as h,Pa as u,S as x,Va as M,Wa as m,Xa as U,Ya as R,_ as y,_a as s,ab as E,bb as O,cb as i,db as a,eb as f,f as L,fb as C,ia as k,ib as g,jb as c,ma as $,na as b,pb as l,qb as w,rb as _,u as N,x as V}from"./chunk-TUMKYTCV.js";function ae(o,t){if(o&1){let e=C();i(0,"button",3),g("click",function(d){y(e);let p=c();return v(p.onRemoveClick(d))}),f(1,"app-icon",4),a()}o&2&&(n(),m("size",16))}var F=class o{goalId;goalName;showRemoveButton=!1;size="medium";clickable=!0;remove=new k;routerService=x(D);get displayName(){return this.goalName.length<=20?this.goalName:this.goalName.substring(0,20)+"..."}get showTooltip(){return this.goalName.length>20}onChipClick(){this.clickable&&!this.showRemoveButton&&this.routerService.navigate(["/goals",this.goalId])}onRemoveClick(t){t.stopPropagation(),this.remove.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-goal-chip"]],inputs:{goalId:"goalId",goalName:"goalName",showRemoveButton:"showRemoveButton",size:"size",clickable:"clickable"},outputs:{remove:"remove"},decls:4,vars:11,consts:[["role","button",1,"goal-chip",3,"click"],[1,"goal-chip__name"],["type","button","aria-label","\u524A\u9664","title","\u524A\u9664",1,"goal-chip__remove"],["type","button","aria-label","\u524A\u9664","title","\u524A\u9664",1,"goal-chip__remove",3,"click"],["name","x","color","var(--color-gray-600)","ariaLabel","\u524A\u9664",3,"size"]],template:function(e,r){e&1&&(i(0,"div",0),g("click",function(){return r.onChipClick()}),i(1,"span",1),l(2),a(),u(3,ae,2,1,"button",2),a()),e&2&&(R("goal-chip--small",r.size==="small")("goal-chip--medium",r.size==="medium")("goal-chip--clickable",r.clickable&&!r.showRemoveButton),M("title",r.showTooltip?r.goalName:null)("tabindex",r.clickable&&!r.showRemoveButton?0:-1)("aria-label","\u76EE\u6A19: "+r.goalName),n(2),w(r.displayName),n(),s(r.showRemoveButton?3:-1))},dependencies:[S,P],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary-50: #fffbeb;--color-primary-100: #fef3c7;--color-primary-200: #fde68a;--color-primary-300: #fcd34d;--color-primary-400: #fbbf24;--color-primary-500: #f59e0b;--color-primary-600: #d97706;--color-primary-700: #b45309;--color-primary-800: #92400e;--color-primary-900: #78350f;--color-secondary-50: #f0fdfa;--color-secondary-100: #ccfbf1;--color-secondary-200: #99f6e4;--color-secondary-300: #5eead4;--color-secondary-400: #2dd4bf;--color-secondary-500: #14b8a6;--color-secondary-600: #0d9488;--color-secondary-700: #0f766e;--color-secondary-800: #115e59;--color-secondary-900: #134e4a;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-success-50: #ecfdf5;--color-success-100: #d1fae5;--color-success-500: #10b981;--color-success-600: #059669;--color-success-700: #047857;--color-warning-50: #fffbeb;--color-warning-100: #fef3c7;--color-warning-500: #f59e0b;--color-warning-600: #d97706;--color-warning-700: #b45309;--color-error-50: #fef2f2;--color-error-100: #fee2e2;--color-error-500: #ef4444;--color-error-600: #dc2626;--color-error-700: #b91c1c;--color-info-50: #eff6ff;--color-info-100: #dbeafe;--color-info-500: #3b82f6;--color-info-600: #2563eb;--color-info-700: #1d4ed8;--color-bg-primary: #ffffff;--color-bg-secondary: #ffffff;--color-bg-tertiary: #ffffff;--color-text-primary: var(--color-gray-900);--color-text-secondary: var(--color-gray-600);--color-text-tertiary: var(--color-gray-500);--color-text-disabled: var(--color-gray-400);--color-text-inverse: #ffffff;--color-border-default: var(--color-gray-200);--color-border-hover: var(--color-gray-300);--color-border-focus: var(--color-primary-500);--color-border-error: var(--color-error-500)}.goal-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:16px;background-color:var(--color-gray-100);color:var(--color-gray-900);font-size:.875rem;line-height:1.25rem;border:none;cursor:default;min-height:44px;box-sizing:border-box}.goal-chip--small[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;min-height:32px}.goal-chip--medium[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;min-height:44px}.goal-chip--clickable[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.goal-chip--clickable[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-200)}.goal-chip--clickable[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-500);outline-offset:2px}.goal-chip__name[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.goal-chip__remove[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0;margin:0;border:none;background:transparent;cursor:pointer;color:var(--color-gray-600);transition:color .2s ease;min-width:24px;min-height:24px;border-radius:4px}.goal-chip__remove[_ngcontent-%COMP%]:hover{color:var(--color-danger-600);background-color:var(--color-gray-200)}.goal-chip__remove[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-500);outline-offset:2px}']})};var oe=(o,t)=>t.id;function le(o,t){if(o&1&&(i(0,"label",1),l(1),a()),o&2){let e=c();m("for","goal-select-"+e.label),n(),_(" ",e.label," ")}}function ce(o,t){o&1&&(i(0,"div",13),l(1,"\u8AAD\u307F\u8FBC\u307F\u4E2D..."),a())}function se(o,t){o&1&&(i(0,"div",14),l(1,"\u76EE\u6A19\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093"),a())}function de(o,t){if(o&1){let e=C();i(0,"button",16),g("click",function(){let d=y(e).$implicit,p=c(3);return v(p.selectGoal(d.id))})("mousedown",function(d){return y(e),v(d.preventDefault())}),l(1),a()}if(o&2){let e=t.$implicit,r=c(3);n(),_(" ",r.getGoalLabel(e)," ")}}function pe(o,t){if(o&1&&E(0,de,2,1,"button",15,oe),o&2){let e=c(2);O(e.filteredGoals())}}function me(o,t){if(o&1){let e=C();i(0,"div",12),g("click",function(d){return y(e),v(d.stopPropagation())})("keyup.enter",function(d){return y(e),v(d.stopPropagation())})("keydown.enter",function(d){return y(e),v(d.stopPropagation())}),u(1,ce,2,0,"div",13)(2,se,2,0,"div",14)(3,pe,2,0),a()}if(o&2){let e=c();U("background-color","#ffffff")("background","#ffffff"),n(),s(e.isLoading()?1:e.filteredGoals().length===0?2:3)}}function ue(o,t){if(o&1){let e=C();i(0,"app-goal-chip",18),g("remove",function(){let d=y(e).$implicit,p=c(2);return v(p.removeGoal(d.id))}),a()}if(o&2){let e=t.$implicit;m("goalId",e.id)("goalName",e.name)("showRemoveButton",!0)("clickable",!1)}}function fe(o,t){if(o&1&&(i(0,"div",8),E(1,ue,1,4,"app-goal-chip",17,oe),a()),o&2){let e=c();n(),O(e.getSelectedGoals())}}function _e(o,t){if(o&1&&(i(0,"span",9),l(1),a()),o&2){let e=c();n(),w(e.helperText)}}function ge(o,t){if(o&1&&(i(0,"span",10),l(1),a()),o&2){let e=c();n(),_(" ",e.error," ")}}function ye(o,t){if(o&1&&(i(0,"span",11),l(1),a()),o&2){let e=c();n(),_(" \u6700\u5927",e.maxSelection,"\u500B\u307E\u3067\u9078\u629E\u3067\u304D\u307E\u3059 ")}}var ee=class o{value=[];label="\u95A2\u9023\u3059\u308B\u76EE\u6A19";placeholder="\u76EE\u6A19\u3092\u9078\u629E";disabled=!1;error="";helperText="";maxSelection=10;valueChange=new k;goalService=x(B);elementRef=x($);allGoals=b([]);filteredGoals=b([]);searchQuery=b("");isOpen=b(!1);isLoading=b(!1);searchSubject=new L;ngOnInit(){this.loadGoals(),this.searchSubject.pipe(V(300),W()).subscribe(t=>{this.filterGoals(t)})}loadGoals(){this.isLoading.set(!0),this.goalService.getGoals(!1).subscribe({next:t=>{let e=t.data;this.allGoals.set(e),this.filterGoals(""),this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}filterGoals(t){let e=this.allGoals(),r=new Set(this.value),d=e.filter(p=>r.has(p.id)?!1:t.trim()?p.name.toLowerCase().includes(t.toLowerCase()):!0).map(p=>{let A=p.parentId&&e.find(ie=>ie.id===p.parentId)?.name||null;return{id:p.id,name:p.name,parentName:A,startDate:p.startDate,endDate:p.endDate,parentId:p.parentId}});this.filteredGoals.set(d)}onSearchChange(t){this.searchQuery.set(t),this.searchSubject.next(t)}selectGoal(t){if(this.disabled||this.value.length>=this.maxSelection)return;let e=[...this.value,t];this.value=e,this.valueChange.emit(e),this.searchQuery.set(""),this.filterGoals("")}removeGoal(t){if(this.disabled)return;let e=this.value.filter(r=>r!==t);this.value=e,this.valueChange.emit(e),this.filterGoals(this.searchQuery())}getSelectedGoals(){let t=this.allGoals();return this.value.map(e=>{let r=t.find(p=>p.id===e);if(!r)return null;let d=r.parentId&&t.find(p=>p.id===r.parentId)?.name||null;return{id:r.id,name:r.name,parentName:d,startDate:r.startDate,endDate:r.endDate,parentId:r.parentId}}).filter(e=>e!==null)}toggleDropdown(){this.disabled||(this.isOpen.update(t=>!t),this.isOpen()||(this.searchQuery.set(""),this.filterGoals("")))}closeDropdown(){this.isOpen.set(!1),this.searchQuery.set(""),this.filterGoals("")}onDocumentClick(t){let e=t.target,r=this.elementRef.nativeElement;this.isOpen()&&r&&!r.contains(e)&&this.closeDropdown()}getGoalLabel(t){return t.parentName?`${t.parentName} > ${t.name}`:t.name}get hasError(){return!!this.error}get isMaxSelectionReached(){return this.value.length>=this.maxSelection}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-goal-multi-select-field"]],hostBindings:function(e,r){e&1&&g("click",function(p){return r.onDocumentClick(p)},!1,j)},inputs:{value:"value",label:"label",placeholder:"placeholder",disabled:"disabled",error:"error",helperText:"helperText",maxSelection:"maxSelection"},outputs:{valueChange:"valueChange"},decls:12,vars:20,consts:[[1,"goal-multi-select-field"],[1,"goal-multi-select-field__label",3,"for"],[1,"goal-multi-select-field__wrapper"],[1,"goal-multi-select-field__input-wrapper"],["type","text",1,"goal-multi-select-field__input",3,"input","focus","id","placeholder","disabled","value"],["type","button","aria-label","\u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3\u3092\u958B\u304F",1,"goal-multi-select-field__toggle",3,"click","disabled"],["name","chevron-down","color","var(--color-gray-500)",3,"size"],["tabindex","0",1,"goal-multi-select-field__dropdown",3,"background-color","background"],[1,"goal-multi-select-field__chips"],[1,"goal-multi-select-field__helper"],["id","goal-select-error","role","alert",1,"goal-multi-select-field__error"],[1,"goal-multi-select-field__helper","goal-multi-select-field__helper--warning"],["tabindex","0",1,"goal-multi-select-field__dropdown",3,"click","keyup.enter","keydown.enter"],[1,"goal-multi-select-field__loading"],[1,"goal-multi-select-field__empty"],["type","button",1,"goal-multi-select-field__option"],["type","button",1,"goal-multi-select-field__option",3,"click","mousedown"],[3,"goalId","goalName","showRemoveButton","clickable"],[3,"remove","goalId","goalName","showRemoveButton","clickable"]],template:function(e,r){e&1&&(i(0,"div",0),u(1,le,2,2,"label",1),i(2,"div",2)(3,"div",3)(4,"input",4),g("input",function(p){return r.onSearchChange(p.target.value)})("focus",function(){return r.toggleDropdown()}),a(),i(5,"button",5),g("click",function(){return r.toggleDropdown()}),f(6,"app-icon",6),a()(),u(7,me,4,5,"div",7),a(),u(8,fe,3,0,"div",8)(9,_e,2,1,"span",9)(10,ge,2,1,"span",10)(11,ye,2,1,"span",11),a()),e&2&&(n(),s(r.label?1:-1),n(2),R("goal-multi-select-field__input-wrapper--error",r.hasError)("goal-multi-select-field__input-wrapper--disabled",r.disabled)("goal-multi-select-field__input-wrapper--open",r.isOpen()),n(),m("id",r.label?"goal-select-"+r.label:null)("placeholder",r.placeholder)("disabled",r.disabled||r.isMaxSelectionReached)("value",r.searchQuery()),M("aria-invalid",r.hasError)("aria-describedby",r.hasError?"goal-select-error":null),n(),m("disabled",r.disabled),n(),m("size",20),n(),s(r.isOpen()?7:-1),n(),s(r.getSelectedGoals().length>0?8:-1),n(),s(r.helperText&&!r.hasError?9:-1),n(),s(r.hasError?10:-1),n(),s(r.isMaxSelectionReached?11:-1))},dependencies:[S,X,P,F],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary-50: #fffbeb;--color-primary-100: #fef3c7;--color-primary-200: #fde68a;--color-primary-300: #fcd34d;--color-primary-400: #fbbf24;--color-primary-500: #f59e0b;--color-primary-600: #d97706;--color-primary-700: #b45309;--color-primary-800: #92400e;--color-primary-900: #78350f;--color-secondary-50: #f0fdfa;--color-secondary-100: #ccfbf1;--color-secondary-200: #99f6e4;--color-secondary-300: #5eead4;--color-secondary-400: #2dd4bf;--color-secondary-500: #14b8a6;--color-secondary-600: #0d9488;--color-secondary-700: #0f766e;--color-secondary-800: #115e59;--color-secondary-900: #134e4a;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-success-50: #ecfdf5;--color-success-100: #d1fae5;--color-success-500: #10b981;--color-success-600: #059669;--color-success-700: #047857;--color-warning-50: #fffbeb;--color-warning-100: #fef3c7;--color-warning-500: #f59e0b;--color-warning-600: #d97706;--color-warning-700: #b45309;--color-error-50: #fef2f2;--color-error-100: #fee2e2;--color-error-500: #ef4444;--color-error-600: #dc2626;--color-error-700: #b91c1c;--color-info-50: #eff6ff;--color-info-100: #dbeafe;--color-info-500: #3b82f6;--color-info-600: #2563eb;--color-info-700: #1d4ed8;--color-bg-primary: #ffffff;--color-bg-secondary: #ffffff;--color-bg-tertiary: #ffffff;--color-text-primary: var(--color-gray-900);--color-text-secondary: var(--color-gray-600);--color-text-tertiary: var(--color-gray-500);--color-text-disabled: var(--color-gray-400);--color-text-inverse: #ffffff;--color-border-default: var(--color-gray-200);--color-border-hover: var(--color-gray-300);--color-border-focus: var(--color-primary-500);--color-border-error: var(--color-error-500)}[_nghost-%COMP%]{display:block}.goal-multi-select-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.goal-multi-select-field__label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:var(--color-gray-800)}.goal-multi-select-field__wrapper[_ngcontent-%COMP%]{position:relative}.goal-multi-select-field__input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;border:1px solid var(--color-gray-300);border-radius:8px;background-color:#fff;transition:border-color .2s ease,box-shadow .2s ease}.goal-multi-select-field__input-wrapper[_ngcontent-%COMP%]:hover:not(.goal-multi-select-field__input-wrapper--disabled){border-color:var(--color-gray-400)}.goal-multi-select-field__input-wrapper--focused[_ngcontent-%COMP%], .goal-multi-select-field__input-wrapper--open[_ngcontent-%COMP%]{border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.goal-multi-select-field__input-wrapper--error[_ngcontent-%COMP%]{border-color:var(--color-danger-500)}.goal-multi-select-field__input-wrapper--disabled[_ngcontent-%COMP%]{background-color:var(--color-gray-50);cursor:not-allowed}.goal-multi-select-field__input[_ngcontent-%COMP%]{flex:1;padding:12px 40px 12px 16px;border:none;background:transparent;font-size:1rem;line-height:1.6;color:var(--color-gray-900);outline:none}.goal-multi-select-field__input[_ngcontent-%COMP%]::placeholder{color:var(--color-gray-400)}.goal-multi-select-field__input[_ngcontent-%COMP%]:disabled{cursor:not-allowed;color:var(--color-gray-500)}.goal-multi-select-field__toggle[_ngcontent-%COMP%]{position:absolute;right:.5rem;display:flex;align-items:center;justify-content:center;padding:0;border:none;background:transparent;cursor:pointer;color:var(--color-gray-500);transition:transform .2s ease}.goal-multi-select-field__toggle[_ngcontent-%COMP%]:hover:not(:disabled){color:var(--color-gray-700)}.goal-multi-select-field__toggle[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.goal-multi-select-field__dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;max-height:300px;overflow-y:auto;background:#fff!important;background-color:#fff!important;border:1px solid var(--color-gray-300);border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.goal-multi-select-field__option[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem .75rem;border:none;background:transparent;text-align:left;font-size:.875rem;line-height:1.25rem;color:var(--color-gray-900);cursor:pointer;transition:background-color .2s ease}.goal-multi-select-field__option[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-100)}.goal-multi-select-field__option[_ngcontent-%COMP%]:focus{outline:none;background-color:var(--color-primary-50)}.goal-multi-select-field__loading[_ngcontent-%COMP%], .goal-multi-select-field__empty[_ngcontent-%COMP%]{padding:.75rem;text-align:center;font-size:.875rem;color:var(--color-gray-500)}.goal-multi-select-field__chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.goal-multi-select-field__helper[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-gray-500);line-height:1rem}.goal-multi-select-field__helper--warning[_ngcontent-%COMP%]{color:var(--color-warning-600)}.goal-multi-select-field__error[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-danger-600);line-height:1rem}']})};var ve=(o,t)=>t.id;function Ce(o,t){if(o&1&&(i(0,"span",3),l(1),a()),o&2){let e=c();n(),_("\uFF08",e.totalCount(),"\u4EF6\uFF09")}}function be(o,t){o&1&&(i(0,"div",7),l(1,"\u8AAD\u307F\u8FBC\u307F\u4E2D..."),a())}function he(o,t){o&1&&f(0,"app-empty-state",8)}function xe(o,t){if(o&1&&(i(0,"div",9),l(1),a()),o&2){let e=c();n(),w(e.errorMessage())}}function we(o,t){if(o&1){let e=C();i(0,"div",13),g("click",function(){let d=y(e).$implicit,p=c(2);return v(p.navigateToReport(d.id))}),i(1,"div",14),l(2),a(),i(3,"div",15),l(4),a()()}if(o&2){let e=t.$implicit,r=c(2);M("aria-label",r.formatDate(e.date)+"\u306E\u65E5\u5831"),n(2),_(" ",r.formatDate(e.date)," "),n(2),_(" ",e.events," ")}}function ke(o,t){if(o&1){let e=C();i(0,"div",12)(1,"app-button",16),g("clicked",function(){y(e);let d=c(2);return v(d.loadMore())}),l(2," \u3082\u3063\u3068\u898B\u308B "),a()()}if(o&2){let e=c(2);n(),m("loading",e.isLoading())}}function Se(o,t){if(o&1&&(i(0,"div",10),E(1,we,5,3,"div",11,ve),a(),u(3,ke,3,1,"div",12)),o&2){let e=c();n(),O(e.dailyReports()),n(2),s(e.hasMore()?3:-1)}}var te=class o{goalId;limit=10;sort="desc";goalService=x(B);router=x(D);dailyReports=b([]);totalCount=b(0);isLoading=b(!1);errorMessage=b(null);currentOffset=b(0);hasMore=b(!1);ngOnInit(){this.loadDailyReports()}loadDailyReports(){this.isLoading.set(!0),this.errorMessage.set(null),this.goalService.getGoal(this.goalId,{limit:this.limit,offset:this.currentOffset(),sort:this.sort}).subscribe({next:t=>{let e=t.relatedDailyReports||[],r=t.relatedDailyReportsCount||0;this.currentOffset()===0?this.dailyReports.set(e):this.dailyReports.update(d=>[...d,...e]),this.totalCount.set(r),this.currentOffset.set(this.currentOffset()+e.length),this.hasMore.set(this.currentOffset()<r),this.isLoading.set(!1)},error:t=>{this.errorMessage.set(t.error?.message||"\u95A2\u9023\u65E5\u5831\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F"),this.isLoading.set(!1)}})}loadMore(){this.loadDailyReports()}onSortChange(t){this.sort=t,this.currentOffset.set(0),this.loadDailyReports()}navigateToReport(t){this.router.navigate(["/daily-reports",t])}formatDate(t){let e=new Date(t),r=e.getFullYear(),d=e.getMonth()+1,p=e.getDate(),A=["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"][e.getDay()];return`${r}/${d}/${p}\uFF08${A}\uFF09`}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-related-daily-reports-list"]],inputs:{goalId:"goalId",limit:"limit",sort:"sort"},decls:14,vars:6,consts:[[1,"related-daily-reports-list"],[1,"related-daily-reports-list__header"],[1,"related-daily-reports-list__title"],[1,"related-daily-reports-list__count"],[1,"related-daily-reports-list__sort",3,"change","value"],["value","desc"],["value","asc"],[1,"related-daily-reports-list__loading"],["iconName","file-text","message","\u3053\u306E\u76EE\u6A19\u306B\u95A2\u9023\u3059\u308B\u65E5\u5831\u306F\u307E\u3060\u3042\u308A\u307E\u305B\u3093"],[1,"related-daily-reports-list__error"],[1,"related-daily-reports-list__items"],["role","button","tabindex","0",1,"related-daily-reports-list__item"],[1,"related-daily-reports-list__load-more"],["role","button","tabindex","0",1,"related-daily-reports-list__item",3,"click"],[1,"related-daily-reports-list__item-date"],[1,"related-daily-reports-list__item-events"],["variant","secondary",3,"clicked","loading"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),l(3," \u95A2\u9023\u3059\u308B\u65E5\u5831 "),u(4,Ce,2,1,"span",3),a(),i(5,"select",4),g("change",function(p){return r.onSortChange(p.target.value)}),i(6,"option",5),l(7,"\u65B0\u3057\u3044\u9806"),a(),i(8,"option",6),l(9,"\u53E4\u3044\u9806"),a()()(),u(10,be,2,0,"div",7)(11,he,1,0,"app-empty-state",8)(12,xe,2,1,"div",9)(13,Se,4,1),a()),e&2&&(n(4),s(r.totalCount()>0?4:-1),n(),m("value",r.sort),n(5),s(r.isLoading()&&r.dailyReports().length===0?10:-1),n(),s(!r.isLoading()&&r.dailyReports().length===0&&!r.errorMessage()?11:-1),n(),s(r.errorMessage()?12:-1),n(),s(r.dailyReports().length>0?13:-1))},dependencies:[S,Y,G,J],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary-50: #fffbeb;--color-primary-100: #fef3c7;--color-primary-200: #fde68a;--color-primary-300: #fcd34d;--color-primary-400: #fbbf24;--color-primary-500: #f59e0b;--color-primary-600: #d97706;--color-primary-700: #b45309;--color-primary-800: #92400e;--color-primary-900: #78350f;--color-secondary-50: #f0fdfa;--color-secondary-100: #ccfbf1;--color-secondary-200: #99f6e4;--color-secondary-300: #5eead4;--color-secondary-400: #2dd4bf;--color-secondary-500: #14b8a6;--color-secondary-600: #0d9488;--color-secondary-700: #0f766e;--color-secondary-800: #115e59;--color-secondary-900: #134e4a;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-success-50: #ecfdf5;--color-success-100: #d1fae5;--color-success-500: #10b981;--color-success-600: #059669;--color-success-700: #047857;--color-warning-50: #fffbeb;--color-warning-100: #fef3c7;--color-warning-500: #f59e0b;--color-warning-600: #d97706;--color-warning-700: #b45309;--color-error-50: #fef2f2;--color-error-100: #fee2e2;--color-error-500: #ef4444;--color-error-600: #dc2626;--color-error-700: #b91c1c;--color-info-50: #eff6ff;--color-info-100: #dbeafe;--color-info-500: #3b82f6;--color-info-600: #2563eb;--color-info-700: #1d4ed8;--color-bg-primary: #ffffff;--color-bg-secondary: #ffffff;--color-bg-tertiary: #ffffff;--color-text-primary: var(--color-gray-900);--color-text-secondary: var(--color-gray-600);--color-text-tertiary: var(--color-gray-500);--color-text-disabled: var(--color-gray-400);--color-text-inverse: #ffffff;--color-border-default: var(--color-gray-200);--color-border-hover: var(--color-gray-300);--color-border-focus: var(--color-primary-500);--color-border-error: var(--color-error-500)}.related-daily-reports-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.related-daily-reports-list__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.related-daily-reports-list__title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-gray-900);margin:0}.related-daily-reports-list__count[_ngcontent-%COMP%]{font-weight:400;color:var(--color-gray-600)}.related-daily-reports-list__sort[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;border:1px solid var(--color-gray-300);border-radius:.375rem;background-color:var(--color-white);color:var(--color-gray-900);cursor:pointer;transition:border-color .2s ease}.related-daily-reports-list__sort[_ngcontent-%COMP%]:hover{border-color:var(--color-gray-400)}.related-daily-reports-list__sort[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.related-daily-reports-list__loading[_ngcontent-%COMP%], .related-daily-reports-list__error[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:var(--color-gray-600)}.related-daily-reports-list__error[_ngcontent-%COMP%]{color:var(--color-danger-600)}.related-daily-reports-list__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.related-daily-reports-list__item[_ngcontent-%COMP%]{padding:1rem;background-color:var(--color-white);border:1px solid var(--color-gray-200);border-radius:.5rem;cursor:pointer;transition:background-color .2s ease,border-color .2s ease,transform .2s ease}.related-daily-reports-list__item[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-50);border-color:var(--color-gray-300);transform:translateY(-1px)}.related-daily-reports-list__item[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.related-daily-reports-list__item-date[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-gray-700);margin-bottom:.5rem}.related-daily-reports-list__item-events[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:var(--color-gray-600);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.related-daily-reports-list__load-more[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem 0}']})};var Me=(o,t)=>t.id;function Ee(o,t){o&1&&(i(0,"span",6),f(1,"app-icon",10),a()),o&2&&(n(),m("size",20))}function Oe(o,t){o&1&&(i(0,"span",7),f(1,"app-icon",11),a()),o&2&&(n(),m("size",20))}function Pe(o,t){if(o&1&&f(0,"app-goal-chip",12),o&2){let e=t.$implicit;m("goalId",e.id)("goalName",e.name)}}function Fe(o,t){if(o&1&&(i(0,"span",13),l(1),a()),o&2){let e=c(2);n(),_("+",e.report.goals.length-3,"")}}function De(o,t){if(o&1&&(i(0,"div",8),E(1,Pe,1,2,"app-goal-chip",12,Me),u(3,Fe,2,1,"span",13),a()),o&2){let e=c();n(),O(e.report.goals.slice(0,3)),n(2),s(e.report.goals.length>3?3:-1)}}function Te(o,t){if(o&1&&(i(0,"span",21),f(1,"app-icon",22),i(2,"span",23),l(3,"\u518D\u73FE\u6210\u529F:"),a(),i(4,"span",24),l(5),a()()),o&2){let e=c(4);n(),m("size",12),n(4),_("",e.report.goodPointSummary.statusSummary.\u518D\u73FE\u6210\u529F,"\u4EF6")}}function Ie(o,t){if(o&1&&(i(0,"span",21),f(1,"app-icon",25),i(2,"span",23),l(3,"\u5B9A\u7740:"),a(),i(4,"span",24),l(5),a()()),o&2){let e=c(4);n(),m("size",12),n(4),_("",e.report.goodPointSummary.statusSummary.\u5B9A\u7740,"\u4EF6")}}function Re(o,t){if(o&1&&(i(0,"div",20),u(1,Te,6,2,"span",21)(2,Ie,6,2,"span",21),a()),o&2){let e=c(3);n(),s(e.report.goodPointSummary.statusSummary.\u518D\u73FE\u6210\u529F>0?1:-1),n(),s(e.report.goodPointSummary.statusSummary.\u5B9A\u7740>0?2:-1)}}function Ge(o,t){if(o&1&&(i(0,"div",15)(1,"div",17),f(2,"app-icon",10),i(3,"span",18),l(4,"\u3088\u304B\u3063\u305F\u3053\u3068:"),a(),i(5,"span",19),l(6),a()(),u(7,Re,3,2,"div",20),a()),o&2){let e=c(2);n(2),m("size",16),n(4),_("",e.report.goodPointSummary.count,"\u4EF6"),n(),s(e.shouldShowGoodPointStatusSummary?7:-1)}}function Be(o,t){if(o&1&&(i(0,"span",21),f(1,"app-icon",26),i(2,"span",23),l(3,"\u5B8C\u4E86:"),a(),i(4,"span",24),l(5),a()()),o&2){let e=c(4);n(),m("size",12),n(4),_("",e.report.improvementSummary.statusSummary.\u5B8C\u4E86,"\u4EF6")}}function ze(o,t){if(o&1&&(i(0,"span",21),f(1,"app-icon",27),i(2,"span",23),l(3,"\u7FD2\u6163\u5316:"),a(),i(4,"span",24),l(5),a()()),o&2){let e=c(4);n(),m("size",12),n(4),_("",e.report.improvementSummary.statusSummary.\u7FD2\u6163\u5316,"\u4EF6")}}function Ae(o,t){if(o&1&&(i(0,"div",20),u(1,Be,6,2,"span",21)(2,ze,6,2,"span",21),a()),o&2){let e=c(3);n(),s(e.report.improvementSummary.statusSummary.\u5B8C\u4E86>0?1:-1),n(),s(e.report.improvementSummary.statusSummary.\u7FD2\u6163\u5316>0?2:-1)}}function Le(o,t){if(o&1&&(i(0,"div",15)(1,"div",17),f(2,"app-icon",11),i(3,"span",18),l(4,"\u6539\u5584\u70B9:"),a(),i(5,"span",19),l(6),a()(),u(7,Ae,3,2,"div",20),a()),o&2){let e=c(2);n(2),m("size",16),n(4),_("",e.report.improvementSummary.count,"\u4EF6"),n(),s(e.shouldShowImprovementStatusSummary?7:-1)}}function Ne(o,t){if(o&1&&(i(0,"section",14),u(1,Ge,8,3,"div",15)(2,Le,8,3,"div",15),a(),f(3,"div",16)),o&2){let e=c();n(),s(e.shouldShowGoodPointSummary?1:-1),n(),s(e.shouldShowImprovementSummary?2:-1)}}var re=class o{report;cardClick=new k;get truncatedEvents(){return this.report.events.length<=50?this.report.events:this.report.events.slice(0,50)+"..."}get hasGoodPoints(){return this.report.goodPointIds.length>0}get hasImprovements(){return this.report.improvementIds.length>0}get shouldShowGoodPointSummary(){return this.report.goodPointSummary.count>0}get shouldShowImprovementSummary(){return this.report.improvementSummary.count>0}get shouldShowGoodPointStatusSummary(){let t=this.report.goodPointSummary.statusSummary;return t.\u518D\u73FE\u6210\u529F>0||t.\u5B9A\u7740>0}get shouldShowImprovementStatusSummary(){let t=this.report.improvementSummary.statusSummary;return t.\u5B8C\u4E86>0||t.\u7FD2\u6163\u5316>0}get shouldShowSummarySection(){return this.shouldShowGoodPointSummary||this.shouldShowImprovementSummary}get formattedDate(){let t=new Date(this.report.date),e=t.getFullYear(),r=t.getMonth()+1,d=t.getDate(),p=["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"][t.getDay()];return`${e}/${r}/${d}\uFF08${p}\uFF09`}onCardClick(){this.cardClick.emit(this.report.id)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-report-card"]],inputs:{report:"report"},outputs:{cardClick:"cardClick"},decls:13,vars:9,consts:[["tabindex","0","role","button",1,"report-card",3,"click","keydown.enter"],[1,"report-card__header"],[1,"report-card__date"],[1,"report-card__date-icon"],["name","calendar","color","var(--color-gray-600)","ariaLabel","\u65E5\u4ED8",3,"size"],[1,"report-card__badges"],["title","\u3088\u304B\u3063\u305F\u3053\u3068\u6709\u308A",1,"report-card__badge","report-card__badge--good"],["title","\u6539\u5584\u70B9\u6709\u308A",1,"report-card__badge","report-card__badge--improvement"],[1,"report-card__goals"],[1,"report-card__content"],["name","heart","color","var(--color-primary-500)","ariaLabel","\u3088\u304B\u3063\u305F\u3053\u3068",3,"size"],["name","file-text","color","var(--color-primary-500)","ariaLabel","\u6539\u5584\u70B9",3,"size"],["size","small",3,"goalId","goalName"],[1,"report-card__goals-more"],["aria-label","\u3088\u304B\u3063\u305F\u3053\u3068\u3068\u6539\u5584\u70B9\u306E\u30B5\u30DE\u30EA\u30FC",1,"report-card__summary"],[1,"summary-item"],[1,"report-card__divider"],[1,"summary-item__header"],[1,"summary-item__label"],[1,"summary-item__count"],[1,"summary-item__status"],[1,"status-item"],["name","check","color","var(--color-success)","ariaLabel","\u518D\u73FE\u6210\u529F",3,"size"],[1,"status-item__label"],[1,"status-item__count"],["name","check","color","var(--color-success)","ariaLabel","\u5B9A\u7740",3,"size"],["name","check","color","var(--color-success)","ariaLabel","\u5B8C\u4E86",3,"size"],["name","check","color","var(--color-success)","ariaLabel","\u7FD2\u6163\u5316",3,"size"]],template:function(e,r){e&1&&(i(0,"article",0),g("click",function(){return r.onCardClick()})("keydown.enter",function(){return r.onCardClick()}),i(1,"header",1)(2,"time",2)(3,"span",3),f(4,"app-icon",4),a(),l(5),a(),i(6,"div",5),u(7,Ee,2,1,"span",6)(8,Oe,2,1,"span",7),a()(),u(9,De,4,1,"div",8)(10,Ne,4,2),i(11,"p",9),l(12),a()()),e&2&&(M("aria-label",r.formattedDate+"\u306E\u65E5\u5831"),n(2),M("datetime",r.report.date),n(2),m("size",20),n(),_(" ",r.formattedDate," "),n(2),s(r.hasGoodPoints?7:-1),n(),s(r.hasImprovements?8:-1),n(),s(r.report.goals&&r.report.goals.length>0?9:-1),n(),s(r.shouldShowSummarySection?10:-1),n(2),w(r.truncatedEvents))},dependencies:[S,P,F],styles:['@charset "UTF-8";.report-card[_ngcontent-%COMP%]{background:var(--color-white);border:1px solid var(--color-gray-200);border-radius:12px;padding:16px;box-shadow:0 1px 3px #0000000d;cursor:pointer;transition:transform .2s,box-shadow .2s,border-color .2s}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:var(--color-primary-300)}.report-card[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.report-card[_ngcontent-%COMP%]:active{transform:translateY(0)}.report-card__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.report-card__date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;font-weight:600;color:var(--color-gray-700)}.report-card__date-icon[_ngcontent-%COMP%]{font-size:16px}.report-card__badges[_ngcontent-%COMP%]{display:flex;gap:6px}.report-card__badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;font-size:14px;transition:transform .2s}.report-card__badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.report-card__goals[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.75rem 1rem;border-bottom:1px solid var(--color-gray-200)}.report-card__goals-more[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;font-size:.75rem;color:var(--color-gray-600);background-color:var(--color-gray-100);border-radius:16px}.report-card__summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem;padding:1rem;background-color:var(--color-bg-secondary);border-radius:.5rem}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.summary-item__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:var(--color-gray-700)}.summary-item__label[_ngcontent-%COMP%]{font-weight:500}.summary-item__count[_ngcontent-%COMP%]{font-weight:600;color:var(--color-gray-900)}.summary-item__status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:1.5rem;font-size:.75rem;color:var(--color-gray-600)}.status-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.status-item__label[_ngcontent-%COMP%]{font-weight:400}.status-item__count[_ngcontent-%COMP%]{font-weight:500}.report-card__divider[_ngcontent-%COMP%]{height:1px;background-color:var(--color-gray-300);margin:1rem 0}.report-card__content[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:var(--color-gray-600);word-break:break-word}@media (max-width: 768px){.report-card__summary[_ngcontent-%COMP%]{padding:.5rem}.summary-item__status[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem;margin-left:1.5rem}.status-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}}']})};function Ve(o,t){if(o&1&&f(0,"app-status-badge",4),o&2){let e=c(2);m("status",e.status)}}function We(o,t){if(o&1&&(i(0,"span",8),l(1),a()),o&2){let e=c(2);n(),_(" \u6210\u529F: ",e.focus.item.success_count,"\u56DE ")}}function $e(o,t){if(o&1&&(i(0,"div",9),f(1,"app-icon",17),i(2,"span",18),l(3),a()()),o&2){let e=c(2);n(),m("size",16),n(2),w(e.focus.goal.name)}}function je(o,t){if(o&1){let e=C();i(0,"div",0)(1,"div",1)(2,"span",2),f(3,"app-icon",3),l(4),a(),u(5,Ve,1,1,"app-status-badge",4),a(),i(6,"div",5)(7,"p",6),l(8),a(),i(9,"div",7),u(10,We,2,1,"span",8),a(),u(11,$e,4,2,"div",9),a(),i(12,"div",10)(13,"span",11),f(14,"app-icon",12),l(15),a(),i(16,"div",13)(17,"app-icon-button",14),g("clicked",function(){y(e);let d=c();return v(d.onDelete())}),a(),i(18,"a",15),l(19," \u30D5\u30A9\u30ED\u30FC\u30A2\u30C3\u30D7 "),a(),i(20,"a",16),l(21," \u65E5\u5831\u3092\u898B\u308B "),a()()()()}if(o&2){let e=c();n(3),m("name",e.itemTypeIcon)("size",20)("color","var(--color-primary-500)")("ariaLabel",e.itemTypeLabel),n(),_(" ",e.itemTypeLabel," "),n(),s(e.status?5:-1),n(3),w((e.focus.item==null?null:e.focus.item.content)||"\u5185\u5BB9\u304C\u3042\u308A\u307E\u305B\u3093"),n(2),s(e.focus.item&&e.focus.item.success_count!==void 0?10:-1),n(),s(e.focus.goalId&&e.focus.goal?11:-1),n(3),m("size",16),n(),_(" ",e.focus.weekStartDate," "),n(2),m("size",20)("color","var(--color-primary-600)")("tooltip","\u30D5\u30A9\u30FC\u30AB\u30B9\u304B\u3089\u524A\u9664")("pinned",!0)("ariaLabel","\u30D5\u30A9\u30FC\u30AB\u30B9\u304B\u3089\u524A\u9664"),n(),m("routerLink",e.followupUrl),n(2),m("routerLink",e.reportDetailUrl)}}var z=class o{focus;deleteClicked=new k;onDelete(){this.focus?.id&&this.deleteClicked.emit(this.focus.id)}get itemTypeLabel(){return this.focus?.itemType==="goodPoint"?"\u3088\u304B\u3063\u305F\u3053\u3068":"\u6539\u5584\u70B9"}get itemTypeIcon(){return this.focus?.itemType==="goodPoint"?"heart":"file-text"}get reportDetailUrl(){return this.focus?.reportId?`/daily-reports/${this.focus.reportId}`:"#"}get followupUrl(){return this.focus?.itemType&&this.focus?.item?.id?`/followups/${this.focus.itemType}/${this.focus.item.id}`:"#"}get status(){return this.focus?.item?.status}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-weekly-focus-card"]],inputs:{focus:"focus"},outputs:{deleteClicked:"deleteClicked"},decls:1,vars:1,consts:[[1,"weekly-focus-card"],[1,"weekly-focus-card__header"],[1,"weekly-focus-card__type"],[3,"name","size","color","ariaLabel"],[3,"status"],[1,"weekly-focus-card__content"],[1,"weekly-focus-card__text"],[1,"weekly-focus-card__meta"],[1,"weekly-focus-card__success-count"],[1,"weekly-focus-card__goal"],[1,"weekly-focus-card__footer"],[1,"weekly-focus-card__date"],["name","calendar","color","var(--color-gray-600)","ariaLabel","\u65E5\u4ED8",3,"size"],[1,"weekly-focus-card__actions"],["iconName","pin",3,"clicked","size","color","tooltip","pinned","ariaLabel"],["aria-label","\u30D5\u30A9\u30ED\u30FC\u30A2\u30C3\u30D7",1,"weekly-focus-card__action-link","weekly-focus-card__action-link--outline",3,"routerLink"],["aria-label","\u65E5\u5831\u3092\u898B\u308B",1,"weekly-focus-card__action-link","weekly-focus-card__action-link--ghost",3,"routerLink"],["name","target","color","var(--color-primary-500)","ariaLabel","\u77ED\u671F\u76EE\u6A19",3,"size"],[1,"weekly-focus-card__goal-name"]],template:function(e,r){e&1&&u(0,je,22,18,"div",0),e&2&&s(r.focus?0:-1)},dependencies:[S,Q,Z,P,K],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary-50: #fffbeb;--color-primary-100: #fef3c7;--color-primary-200: #fde68a;--color-primary-300: #fcd34d;--color-primary-400: #fbbf24;--color-primary-500: #f59e0b;--color-primary-600: #d97706;--color-primary-700: #b45309;--color-primary-800: #92400e;--color-primary-900: #78350f;--color-secondary-50: #f0fdfa;--color-secondary-100: #ccfbf1;--color-secondary-200: #99f6e4;--color-secondary-300: #5eead4;--color-secondary-400: #2dd4bf;--color-secondary-500: #14b8a6;--color-secondary-600: #0d9488;--color-secondary-700: #0f766e;--color-secondary-800: #115e59;--color-secondary-900: #134e4a;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-success-50: #ecfdf5;--color-success-100: #d1fae5;--color-success-500: #10b981;--color-success-600: #059669;--color-success-700: #047857;--color-warning-50: #fffbeb;--color-warning-100: #fef3c7;--color-warning-500: #f59e0b;--color-warning-600: #d97706;--color-warning-700: #b45309;--color-error-50: #fef2f2;--color-error-100: #fee2e2;--color-error-500: #ef4444;--color-error-600: #dc2626;--color-error-700: #b91c1c;--color-info-50: #eff6ff;--color-info-100: #dbeafe;--color-info-500: #3b82f6;--color-info-600: #2563eb;--color-info-700: #1d4ed8;--color-bg-primary: #ffffff;--color-bg-secondary: #ffffff;--color-bg-tertiary: #ffffff;--color-text-primary: var(--color-gray-900);--color-text-secondary: var(--color-gray-600);--color-text-tertiary: var(--color-gray-500);--color-text-disabled: var(--color-gray-400);--color-text-inverse: #ffffff;--color-border-default: var(--color-gray-200);--color-border-hover: var(--color-gray-300);--color-border-focus: var(--color-primary-500);--color-border-error: var(--color-error-500)}.weekly-focus-card[_ngcontent-%COMP%]{background-color:var(--color-bg-primary);border:1px solid var(--color-border-default);border-radius:.5rem;padding:1rem;display:flex;flex-direction:column;gap:.75rem;transition:box-shadow .2s}.weekly-focus-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px #0000001a}.weekly-focus-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.weekly-focus-card__type[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-secondary)}.weekly-focus-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.weekly-focus-card__text[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.5;color:var(--color-text-primary);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.weekly-focus-card__meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.weekly-focus-card__success-count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary)}.weekly-focus-card__goal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.5rem;background-color:var(--color-primary-50);border-radius:.25rem;border:1px solid var(--color-primary-200)}.weekly-focus-card__goal-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-primary-700)}.weekly-focus-card__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:.5rem;border-top:1px solid var(--color-border-default)}.weekly-focus-card__date[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary)}.weekly-focus-card__actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.weekly-focus-card__action-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.375rem .75rem;font-size:.875rem;font-weight:500;text-decoration:none;border-radius:.375rem;cursor:pointer;transition:all .2s}.weekly-focus-card__action-link--outline[_ngcontent-%COMP%]{color:var(--color-primary-600);border:1px solid var(--color-primary-600);background-color:transparent}.weekly-focus-card__action-link--outline[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-50)}.weekly-focus-card__action-link--ghost[_ngcontent-%COMP%]{color:var(--color-text-secondary);border:none;background-color:transparent}.weekly-focus-card__action-link--ghost[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-100)}']})};var Ue=(o,t)=>t.id;function He(o,t){if(o&1){let e=C();i(0,"app-button",9),g("clicked",function(){y(e);let d=c();return v(d.onAddClick())}),l(1," \uFF0B\u8FFD\u52A0 "),a()}}function Qe(o,t){o&1&&(i(0,"div",5),l(1," \u8AAD\u307F\u8FBC\u307F\u4E2D... "),a())}function Ye(o,t){if(o&1&&(i(0,"div",6),l(1),a()),o&2){let e=c();n(),_(" ",e.error," ")}}function Xe(o,t){o&1&&(i(0,"div",7)(1,"p",10),l(2," \u4ECA\u9031\u306E\u30D5\u30A9\u30FC\u30AB\u30B9\u304C"),f(3,"br"),l(4," \u8A2D\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093 "),a()())}function Je(o,t){if(o&1){let e=C();i(0,"app-weekly-focus-card",12),g("deleteClicked",function(d){y(e);let p=c(2);return v(p.onDelete(d))}),a()}if(o&2){let e=t.$implicit;m("focus",e)}}function Ke(o,t){if(o&1&&(i(0,"div",8),E(1,Je,1,1,"app-weekly-focus-card",11,Ue),a()),o&2){let e=c();n(),O(e.focuses)}}var ne=class o{weeklyFocusService=x(q);router=x(D);showAddButton=!0;addClicked=new k;focuses=[];loading=!1;error=null;subscription;routerSubscription;ngOnInit(){this.loadFocuses(),this.routerSubscription=this.router.events.pipe(N(t=>t instanceof H)).subscribe(t=>{let e=t;(e.url==="/home"||e.url==="/")&&this.loadFocuses()})}ngOnDestroy(){this.subscription?.unsubscribe(),this.routerSubscription?.unsubscribe()}loadFocuses(){this.loading=!0,this.error=null,this.subscription=this.weeklyFocusService.getCurrentWeekFocuses().subscribe({next:t=>{this.focuses=t,this.loading=!1},error:()=>{this.error="\u30D5\u30A9\u30FC\u30AB\u30B9\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F",this.loading=!1}})}onAddClick(){this.addClicked.emit()}onDelete(t){this.subscription=this.weeklyFocusService.deleteWeeklyFocus(t).subscribe({next:()=>{this.loadFocuses()},error:()=>{this.error="\u30D5\u30A9\u30FC\u30AB\u30B9\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F"}})}get isEmpty(){return!this.loading&&this.focuses.length===0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-weekly-focus-section"]],inputs:{showAddButton:"showAddButton"},outputs:{addClicked:"addClicked"},decls:10,vars:5,consts:[[1,"weekly-focus-section"],[1,"weekly-focus-section__header"],[1,"weekly-focus-section__title"],["variant","secondary","size","sm","ariaLabel","\u30D5\u30A9\u30FC\u30AB\u30B9\u3092\u8FFD\u52A0"],[1,"weekly-focus-section__content"],[1,"weekly-focus-section__loading"],[1,"weekly-focus-section__error"],[1,"weekly-focus-section__empty"],[1,"weekly-focus-section__list"],["variant","secondary","size","sm","ariaLabel","\u30D5\u30A9\u30FC\u30AB\u30B9\u3092\u8FFD\u52A0",3,"clicked"],[1,"weekly-focus-section__empty-message"],[3,"focus"],[3,"deleteClicked","focus"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"\u4ECA\u9031\u306E\u30D5\u30A9\u30FC\u30AB\u30B9"),a(),u(4,He,2,0,"app-button",3),a(),i(5,"div",4),u(6,Qe,2,0,"div",5)(7,Ye,2,1,"div",6)(8,Xe,5,0,"div",7)(9,Ke,3,0,"div",8),a()()),e&2&&(n(4),s(r.showAddButton?4:-1),n(2),s(r.loading?6:-1),n(),s(r.error?7:-1),n(),s(r.isEmpty?8:-1),n(),s(!r.loading&&!r.error&&!r.isEmpty?9:-1))},dependencies:[z,G],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary-50: #fffbeb;--color-primary-100: #fef3c7;--color-primary-200: #fde68a;--color-primary-300: #fcd34d;--color-primary-400: #fbbf24;--color-primary-500: #f59e0b;--color-primary-600: #d97706;--color-primary-700: #b45309;--color-primary-800: #92400e;--color-primary-900: #78350f;--color-secondary-50: #f0fdfa;--color-secondary-100: #ccfbf1;--color-secondary-200: #99f6e4;--color-secondary-300: #5eead4;--color-secondary-400: #2dd4bf;--color-secondary-500: #14b8a6;--color-secondary-600: #0d9488;--color-secondary-700: #0f766e;--color-secondary-800: #115e59;--color-secondary-900: #134e4a;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-success-50: #ecfdf5;--color-success-100: #d1fae5;--color-success-500: #10b981;--color-success-600: #059669;--color-success-700: #047857;--color-warning-50: #fffbeb;--color-warning-100: #fef3c7;--color-warning-500: #f59e0b;--color-warning-600: #d97706;--color-warning-700: #b45309;--color-error-50: #fef2f2;--color-error-100: #fee2e2;--color-error-500: #ef4444;--color-error-600: #dc2626;--color-error-700: #b91c1c;--color-info-50: #eff6ff;--color-info-100: #dbeafe;--color-info-500: #3b82f6;--color-info-600: #2563eb;--color-info-700: #1d4ed8;--color-bg-primary: #ffffff;--color-bg-secondary: #ffffff;--color-bg-tertiary: #ffffff;--color-text-primary: var(--color-gray-900);--color-text-secondary: var(--color-gray-600);--color-text-tertiary: var(--color-gray-500);--color-text-disabled: var(--color-gray-400);--color-text-inverse: #ffffff;--color-border-default: var(--color-gray-200);--color-border-hover: var(--color-gray-300);--color-border-focus: var(--color-primary-500);--color-border-error: var(--color-error-500)}.weekly-focus-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.weekly-focus-section__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.weekly-focus-section__title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--color-text-primary)}.weekly-focus-section__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.weekly-focus-section__loading[_ngcontent-%COMP%], .weekly-focus-section__error[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:var(--color-text-secondary)}.weekly-focus-section__error[_ngcontent-%COMP%]{color:var(--color-error-600)}.weekly-focus-section__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem 1rem;text-align:center}.weekly-focus-section__empty-message[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:var(--color-text-secondary);line-height:1.6}.weekly-focus-section__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}']})};export{F as a,ee as b,te as c,re as d,ne as e};
