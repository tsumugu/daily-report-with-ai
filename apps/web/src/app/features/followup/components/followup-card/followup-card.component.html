@if (item) {
  <div class="followup-card">
    <div class="followup-card__header">
      <span class="followup-card__type">
        <app-icon [name]="itemTypeIcon" [size]="20" [color]="item.itemType === 'goodPoint' ? 'var(--color-success-500)' : 'var(--color-primary-500)'" [ariaLabel]="itemTypeLabel" />
        {{ itemTypeLabel }}
      </span>
      @if (status) {
        <app-status-badge [status]="status!"></app-status-badge>
      }
    </div>
    <div class="followup-card__content">
      <p class="followup-card__text">{{ item.item.content }}</p>
      <div class="followup-card__meta">
        <span class="followup-card__success-count">成功: {{ successCount }}回</span>
        @if (isSettled) {
          <span class="followup-card__settled-badge">定着</span>
        }
        @if (isInWeeklyFocus) {
          <span class="followup-card__weekly-focus-badge">
            <app-icon name="target" [size]="16" color="var(--color-primary-500)" ariaLabel="今週のフォーカス" />
            今週のフォーカス
          </span>
        }
      </div>
    </div>
    <div class="followup-card__footer">
      <span class="followup-card__date">
        <app-icon name="calendar" [size]="16" color="var(--color-gray-600)" ariaLabel="日付" />
        {{ item.reportDate }}
      </span>
      <div class="followup-card__actions">
        <app-button
          variant="outline"
          size="sm"
          (clicked)="onFollowupClick()"
          ariaLabel="フォローアップを入力"
        >
          フォローアップ
        </app-button>
        @if (!isInWeeklyFocus) {
          <app-button
            variant="secondary"
            size="sm"
            [loading]="isAddingToWeeklyFocus"
            [disabled]="isAddingToWeeklyFocus || isWeeklyFocusLimitReached"
            (clicked)="onAddToWeeklyFocus()"
            ariaLabel="フォーカスに追加"
          >
            {{ isAddingToWeeklyFocus ? '追加中...' : 'フォーカスに追加' }}
          </app-button>
        }
        <app-button
          variant="ghost"
          size="sm"
          (clicked)="onCardClick()"
          ariaLabel="日報を見る"
        >
          日報を見る
        </app-button>
      </div>
    </div>
  </div>
}
