<div class="list-container">
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <a routerLink="/" class="logo">ğŸ“ Daily Report</a>
      <div class="user-menu">
        @if (currentUser()) {
          <span class="user-email">{{ currentUser()?.email }}</span>
        }
        <button class="logout-button" (click)="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <div class="page-header">
      <h1 class="page-title">æ—¥å ±ä¸€è¦§</h1>
      <a routerLink="/daily-reports/new" class="new-report-button">
        <span class="plus-icon">ï¼‹</span>
        æ—¥å ±ã‚’æ›¸ã
      </a>
    </div>

    <!-- Loading -->
    @if (isLoading()) {
      <div class="loading-container">
        <div class="spinner"></div>
        <p>èª­ã¿è¾¼ã¿ä¸­...</p>
      </div>
    }

    <!-- Error -->
    @if (errorMessage()) {
      <div class="error-container">
        <app-alert-banner variant="error" [message]="errorMessage()!" />
        <app-button variant="primary" (clicked)="retry()">å†èª­ã¿è¾¼ã¿</app-button>
      </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && !errorMessage() && reports().length === 0) {
      <div class="empty-container">
        <span class="empty-icon">ğŸ“‹</span>
        <h2>ã¾ã æ—¥å ±ãŒã‚ã‚Šã¾ã›ã‚“</h2>
        <p>ä»Šæ—¥ã®æ—¥å ±ã‚’æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
        <a routerLink="/daily-reports/new" class="new-report-button new-report-button--large">
          <span class="plus-icon">ï¼‹</span>
          æ—¥å ±ã‚’æ›¸ã
        </a>
      </div>
    }

    <!-- Report List -->
    @if (!isLoading() && !errorMessage() && reports().length > 0) {
      <div class="report-list">
        @for (report of reports(); track report.id) {
          <app-report-card [report]="report" (cardClick)="onReportClick($event)" />
        }
      </div>

      <!-- Load More -->
      @if (hasMore) {
        <div class="load-more-container">
          @if (isLoadingMore()) {
            <div class="spinner spinner--small"></div>
            <p>èª­ã¿è¾¼ã¿ä¸­...</p>
          } @else {
            <app-button variant="outline" (clicked)="loadMore()">ã‚‚ã£ã¨è¦‹ã‚‹</app-button>
          }
        </div>
      }
    }
  </main>
</div>

